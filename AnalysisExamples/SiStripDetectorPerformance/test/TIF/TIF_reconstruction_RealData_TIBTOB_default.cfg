process TACreco = {
    
    #=========================================================================================
    # MessageLogger
    service = MessageLogger {
	// Specify two output Log-files
	untracked vstring destinations = {
	    "cout.log", 
	    "cerr.log"
	}
	
	// Define their policy
	untracked PSet cout.log = { untracked string threshold = "INFO"  }
	untracked PSet cerr.log = { untracked string threshold = "ERROR" }
    }  
    # End MessageLogger
    #=========================================================================================
    
    #=========================================================================================
    # Modules
    # >> GENERAL CONFIGURATION <<
    # -- Geometry
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
    
    # -- Tracker Geometry
    include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
    
    # -- Tracker Numbering
    include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
    
    # -- Magnetic Field
    include "MagneticField/Engine/data/uniformMagneticField.cfi"
    replace UniformMagneticFieldESProducer.ZFieldInTesla = 0

    # -- Tracker RecoGeometry
    include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"
        
    # -- Acess offline DB via Frontier for cabling + pedestal/noise values
    es_source = PoolDBESSource { 
	VPSet toGet = { 
            { string record = "SiStripPedestalsRcd"  
		string tag    = "SiStripPedNoise_TIBTOB_v1_p"},
	    
            { string record = "SiStripNoisesRcd"     
		string tag    = "SiStripPedNoise_TIBTOB_v1_n"},
	    
            { string record = "SiStripFedCablingRcd" 
		string tag    = "SiStripCabling_TIBTOB_v1"}
	}
        
	untracked bool siteLocalConfig = true
	string connect  = "frontier://cms_conditions_data/CMS_COND_STRIP"
	string timetype = "runnumber" 
	PSet DBParameters = {
            untracked string authenticationPath ="/afs/cern.ch/cms/DB/conddb"
            untracked int32 messageLevel        = 0
	    untracked bool loadBlobStreamer = true
	}
    }
    
    # -- Produce SiStripFecCabling and SiStripDetCabling out of SiStripFedCabling
    es_module sistripconn = SiStripConnectivity {}
    
    # >> DIGITIZATION <<
    # -- Digitizer
    include "EventFilter/SiStripRawToDigi/data/SiStripDigis.cfi"
    
    # -- ZeroSuppressor
    include "RecoLocalTracker/SiStripZeroSuppression/data/SiStripZeroSuppression.cfi"
    
    # >> CLUSTERIZATION <<
    # -- Clusterizer
    include "RecoLocalTracker/SiStripClusterizer/data/SiStripClusterizer_RealData.cfi"
    replace siStripClusters.ChannelThreshold    = 2.0
    replace siStripClusters.SeedThreshold       = 3.0
    replace siStripClusters.ClusterThreshold    = 5.0
    
    include "AnalysisAlgos/SiStripClusterInfoProducer/data/SiStripClusterInfoProducer.cfi"
    
    
    # >> TRACKS FINDERS <<
    include "RecoTracker/TransientTrackingRecHit/data/TransientTrackingRecHitBuilder.cfi"
    include "RecoLocalTracker/SiPixelRecHits/data/PixelCPEParmError.cfi"
    include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"
    include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitMatcher.cfi"
    include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitConverter.cfi"
    include "RecoTracker/Configuration/data/RecoTrackerTIFTIBTOB.cff"
    
    #=========================================================================================
    # Sources
    source = PoolSource { 
	untracked vstring fileNames = {
	    "/store/TAC/TIBTOB/edm_2007_03_07/EDM0006210_000.root",
	    "/store/TAC/TIBTOB/edm_2007_03_07/EDM0006210_001.root",
	    "/store/TAC/TIBTOB/edm_2007_03_07/EDM0006210_002.root"
	}
	
	untracked int32 maxEvents = -1
    }
    # End Sources  
    #=========================================================================================
    
    # >> OUTPUT <<
    # -- Specify output file
    module modOut = PoolOutputModule {
	untracked string fileName = "TIF_reconstruction_RealData_TIBTOB_default.root"
    }
    # End Modules
    #=========================================================================================
    
    #=========================================================================================
    # Schedule
 
    sequence seqDigitization = { SiStripDigis,siStripZeroSuppression}
    
    sequence seqClusterization = { siStripClusters, siStripClusterInfoProducer}
    
    sequence seqTracking = { siStripMatchedRecHits, tracksTIFTIBTOB }
    
    path pReconstruction = { 
	seqDigitization,
	seqClusterization,
	seqTracking}
    
    endpath eReconstruction = { modOut}
    # End Schedule
    #=========================================================================================
}
