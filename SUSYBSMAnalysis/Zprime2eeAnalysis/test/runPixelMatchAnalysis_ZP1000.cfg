#
#  run on collection of ecal super clusters and perform simple
#  analysis w/ EgammaSimpleAnalyzer
#  you must have run clusterin previously and stored the output
#  in the input collection to this job
#
#  Author: Shahram Rahatlou, University of Rome & INFN
#  $Id: runPixelMatchAnalysis_ZP1000.cfg,v 1.2 2007/10/02 07:48:56 mmozer Exp $
#
process pixelMatchAnalysis =
{

  source = PoolSource {
    # Number of events program should run
    untracked vstring fileNames = 
{
'/store/mc/2007/9/11/RelVal-RelValZPrimeEEM1000-1189471912/0000/36C3D8BD-7260-DC11-AD7A-001731230A77.root',
'/store/mc/2007/9/11/RelVal-RelValZPrimeEEM1000-1189471912/0000/56197BD7-7260-DC11-B47C-00304875A9FD.root',
'/store/mc/2007/9/11/RelVal-RelValZPrimeEEM1000-1189471912/0000/58F5540B-7360-DC11-AC5E-001A92971AEC.root',
'/store/mc/2007/9/11/RelVal-RelValZPrimeEEM1000-1189471912/0000/704661C3-7260-DC11-A6FA-00304875A8F3.root',
'/store/mc/2007/9/11/RelVal-RelValZPrimeEEM1000-1189471912/0000/749D89D6-8660-DC11-87DC-00304875A7B3.root',
'/store/mc/2007/9/11/RelVal-RelValZPrimeEEM1000-1189471912/0000/A0A11C13-7360-DC11-8DEA-001A92810A94.root',
'/store/mc/2007/9/11/RelVal-RelValZPrimeEEM1000-1189471912/0000/C616B7BD-7460-DC11-9ED8-001A92971B68.root',
'/store/mc/2007/9/11/RelVal-RelValZPrimeEEM1000-1189471912/0000/DCB2B5A5-7760-DC11-8D91-003048723C15.root',
'/store/mc/2007/9/11/RelVal-RelValZPrimeEEM1000-1189471912/0000/E21BD4E3-BA60-DC11-B76F-001A92971B90.root'
}
  }

############ initialize magnetic field #########################
include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
############### initialize geometry #####################
include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"
####also need to get the es source for geometry of CMS (needed for the rechits)###
include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
include "Geometry/CaloEventSetup/data/CaloTopology.cfi"

## rather put it here:
##include "RecoEgamma/PixelMatchAnalysis/data/runPixelMatchAnalysis.cfi"

  untracked PSet maxEvents = {untracked int32 input = 50}

  module pixelmatchanal = PixelMatchAnalysis 
  {

        #bool drellyan = false
        #bool jet = true
        bool drellyan = true
        bool jet = false

        string analprocess = "ZP_1000"
        #string analprocess = "DY_600"
        #string analprocess = "DY_200"
        #string analprocess = "GR"
        #string analprocess = "SG"

 
        string electronproducer = "pixelMatchGsfElectrons"
        string electronlabel = ""

        string hybridsuperclusterproducer = "hybridSuperClusters"
        string hybridsuperclusterlabel = ""

        string endcapsuperclusterproducer = "correctedEndcapSuperClustersWithPreshower"
        string endcapsuperclusterlabel = ""

        double ecalconesize = 0.5
        double hcalconesizemin = 0.15
        double hcalconesizemax = 0.3
        double hcalptMin = 0.
        double trackptMin = 1.5
        double trackconesize = 0.2
        double rspan = 999999.
        double zspan = 0.1
        double vetoConesize = 0.02

       double ptrecmin = 20.
       double etarecmin = 2.4
       double ntrackisol_max = 4.
       double trackisol_max = 0.2
       double hcalisol_max = 0.2
       double ecalisol_max = 0.5

  }

  path p = { pixelmatchanal }

   service = MessageLogger {
    untracked vstring destinations = { "cout","Zprime2ee.log" }
    untracked vstring categories =  {  "Zprime2eeAna" }
    //untracked vstring debugModules =  { "pixelmatchanal" }  #enable for eventwise info
    untracked PSet Zprime2ee.log = {untracked string threshold = "INFO"  #switch to DEBUG for event-info
				   untracked bool noLineBreaks = true
                                   untracked PSet default = { untracked int32 limit = 0 }
                                   untracked PSet Zprime2eeAna  = { untracked int32 limit = 10000000000}
    }
    untracked PSet cout = { untracked string threshold = "INFO" 
                                   untracked PSet default = { untracked int32 limit = 0 }
                                   untracked PSet Zprime2eeAna  = { untracked int32 limit = 10000000000}
    }
  }

  service = TFileService { 
	#string fileName = "rfio:/castor/cern.ch/cms/store/cmscaf/physics/analysis/Zprime2ee/caftest.root"
        string fileName = "caftest.root"
	#string fileName = "pixelmatchanal_DY_600.root"
        #string fileName = "pixelmatchanal_DY_200.root"
  }



}

