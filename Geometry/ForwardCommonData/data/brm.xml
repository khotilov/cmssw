<?xml version="1.0"?>
<DDDefinition xmlns="http://www.cern.ch/cms/DDL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cern.ch/cms/DDL ../../../DetectorDescription/Schema/DDLSchema.xsd">

<ConstantsSection label="brm.xml" eval="true">
 <Constant name="dzBSC"       value="0.65*cm"/>
 <Constant name="dhTrap"      value="47.65*cm"/>
 <Constant name="dlTrap"      value="5.5*cm"/>
 <Constant name="dLTrap"      value="11.5*cm"/>
 <Constant name="rMinBSC"     value="22.5*cm"/>
 <Constant name="rMaxBSC"     value="45.4*cm"/>
 <Constant name="zposBSC"     value="[cms:MuonBeamZ2]-[dzBSC]"/>
 </ConstantsSection>

<SolidSection label="brm.xml">
 <Tubs name="BSC" rMin="[cms:ForwdBeamR1]" rMax="95*cm"
       dz="[dzBSC]"  startPhi="0*deg" deltaPhi="360*deg"/>
 <TruncTubs name="BSCTubs" rMin="20*cm" rMax="[rMaxBSC]"
       zHalf="[dzBSC]"   cutAtStart="[rMinBSC]" cutAtDelta="[rMinBSC]" 
       startPhi="0*deg" deltaPhi="45*deg" cutInside="true"/>
<!--
 <TruncTubs name="BSC2" rMin="4.5*cm" rMax="32*cm"
       zHalf="8*mm"   cutAtStart="15*cm" cutAtDelta="15*cm" 
       startPhi="-22.5*deg" deltaPhi="45*deg" cutInside="true"/>
-->
 <Trapezoid name="BSCTrap" dz="[dzBSC]"     alp1="0*deg"    bl1="[dlTrap]"
                        tl1="[dLTrap]" h1="[dhTrap]"     alp2="0*deg"
                        bl2="[dlTrap]" tl2="[dLTrap]" h2="[dhTrap]"
                        phi="0*deg"     theta="0*deg" />
 <Trapezoid name="BSCTTop" dz="[dzBSC]"     alp1="0*deg"    bl1="([dlTrap]+[dLTrap])/2"
                        tl1="[dLTrap]" h1="[dhTrap]/2"     alp2="0*deg"
                        bl2="([dlTrap]+[dLTrap])/2" tl2="[dLTrap]" h2="[dhTrap]/2"
                        phi="0*deg"     theta="0*deg" />
 <Trapezoid name="BSCTBottom" dz="[dzBSC]"     alp1="0*deg"    bl1="[dlTrap]"
                        tl1="([dlTrap]+[dLTrap])/2" h1="[dhTrap]/2"     alp2="0*deg"
                        bl2="[dlTrap]" tl2="([dlTrap]+[dLTrap])/2" h2="[dhTrap]/2"
                        phi="0*deg"     theta="0*deg" />
</SolidSection>

<LogicalPartSection label="brm.xml">
 <LogicalPart name="BSC" category="unspecified">
  <rSolid name="BSC"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="BSCTrap" category="unspecified">
  <rSolid name="BSCTrap"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="BSCTTop" category="unspecified">
  <rSolid name="BSCTTop"/>
  <rMaterial name="materials:Scintillator"/>
 </LogicalPart>
 <LogicalPart name="BSCTBottom" category="unspecified">
  <rSolid name="BSCTBottom"/>
  <rMaterial name="materials:Scintillator"/>
 </LogicalPart>
 <LogicalPart name="BSCTubs" category="unspecified">
  <rSolid name="BSCTubs"/>
  <rMaterial name="materials:Scintillator"/>
 </LogicalPart>
</LogicalPartSection>

<PosPartSection label="brm.xml">
 <PosPart copyNumber="1">
   <rParent name="cms:CMSE"/>
   <rChild name="brm:BSC"/>
  <rRotation name="brmrotations:B45R"/>
  <Translation x="0*fm" y="0*fm" z="[zposBSC]" />
 </PosPart>
 <PosPart copyNumber="2">
   <rParent name="cms:CMSE"/>
   <rChild name="brm:BSC"/>
  <rRotation name="brmrotations:B45R"/>
  <Translation x="0*fm" y="0*fm" z="-[zposBSC]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="brm:BSC"/>
   <rChild name="brm:BSCTrap"/>
  <rRotation name="rotations:000D"/>
  <Translation x="65*cm" y="0*cm" z="0*fm" />
 </PosPart>
 <PosPart copyNumber="2">
   <rParent name="brm:BSC"/>
   <rChild name="brm:BSCTrap"/>
  <rRotation name="brmrotations:B90P"/>
  <Translation x="0*cm" y="+65*cm" z="0*fm" />
 </PosPart>
 <PosPart copyNumber="3">
   <rParent name="brm:BSC"/>
   <rChild name="brm:BSCTrap"/>
  <rRotation name="brmrotations:B90M"/>
  <Translation x="0*cm" y="-65*cm" z="0*fm" />
 </PosPart>
 <PosPart copyNumber="4">
   <rParent name="brm:BSC"/>
   <rChild name="brm:BSCTrap"/>
  <rRotation name="brmrotations:B90L"/>
  <Translation x="-65*cm" y="0*cm" z="0*fm" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="brm:BSCTrap"/>
   <rChild name="brm:BSCTTop"/>
  <rRotation name="rotations:000D"/>
  <Translation x="0*cm" y="[dhTrap]/2" z="0*fm" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="brm:BSCTrap"/>
   <rChild name="brm:BSCTBottom"/>
  <rRotation name="rotations:000D"/>
  <Translation x="0*cm" y="-[dhTrap]/2" z="0*fm" />
 </PosPart>

<Algorithm name="hcal:DDHCalAngular">
   <rParent name="brm:BSC"/>
   <String  name="ChildName"    value="BSCTubs"/>
   <String  name="RotNameSpace" value="hcalrotations"/>
   <Numeric name="n"            value="8" />
   <Numeric name="startCopyNo"  value="1" />
   <Numeric name="incrCopyNo"   value="1" />
   <Numeric name="rangeAngle"   value="360*deg"/>
   <Numeric name="startAngle"   value="0*deg"/>
   <Numeric name="shiftY"       value="0*fm"/>
   <Numeric name="shiftX"       value="0*fm"/>
   <Numeric name="zoffset"      value="0*fm"/>
</Algorithm>
</PosPartSection>
</DDDefinition>
