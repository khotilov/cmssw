<?xml version="1.0"?>
<DDDefinition xmlns="http://www.cern.ch/cms/DDL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cern.ch/cms/DDL ../../DetectorDescription/Schema/DDLSchema.xsd">

<ConstantsSection label="tecpetal6b.xml" eval="true">
 <Constant name="zero"  value="0.0*fm"/>
 <Constant name="ICCZ"  value="([tecpetpar:ICBThick]-[tecpetpar:ICCThick])/2"/>
</ConstantsSection>
  
<SolidSection label="tecpetal6b.xml">
 <Tubs name="TECPetal6B"             rMin="[tecpetal3:PetalRmin]"
       rMax="[tecpetalb:PetalR1]"    dz="[tecpetpar:PetalThick]/2"
       startPhi="-[tecpetalb:PetalWidth0]/2"
       deltaPhi="[tecpetalb:PetalWidth0]"/>
</SolidSection>

<LogicalPartSection label="tecpetal6b.xml">
 <LogicalPart name="TECPetalCont6B" category="unspecified">
  <rSolid name="tecpetal3:TECPetalCont3"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="TECPetalFrame6B" category="unspecified">
  <rSolid name="tecpetal3:TECPetal3"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="TECPetal6B" category="unspecified">
  <rSolid name="tecpetal6b:TECPetal6B"/>
  <rMaterial name="tecmaterial:TEC_petal"/>
 </LogicalPart>
  <LogicalPart name="TECPetal7B" category="unspecified">
  <rSolid name="tecpetalb:TECPetal1B"/>
  <rMaterial name="tecmaterial:TEC_petal"/>
 </LogicalPart>
  <LogicalPart name="TECPetalaB" category="unspecified">
  <rSolid name="tecpetalb:TECPetal2B"/>
  <rMaterial name="tecmaterial:TEC_petal"/>
 </LogicalPart>
 <LogicalPart name="TECICBCont6B1" category="unspecified">
  <rSolid name="tecpetal3:TECICBCont3"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="TECICBCont6B2" category="unspecified">
  <rSolid name="tecpetal3:TECICBCont3"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
</LogicalPartSection>

<PosPartSection label="tecpetal6b.xml">
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalCont6B"/>
   <rChild name="tecring2b:TECRing2B"/>
  <rRotation name="tecpetpar:180X"/>
  <Translation x="[zero]" y="[zero]" z="-[tecpetpar:ModuleFrameZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalCont6B"/>
   <rChild name="tecring3b:TECRing3B"/>
  <Translation x="[zero]" y="[zero]" z="[tecpetpar:ModuleFrameZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalCont6B"/>
   <rChild name="tecring4b:TECRing4B"/>
  <rRotation name="tecpetpar:180X"/>
  <Translation x="[zero]" y="[zero]" z="-[tecpetpar:ModuleFrameZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalCont6B"/>
   <rChild name="tecring5b:TECRing5B"/>
  <Translation x="[zero]" y="[zero]" z="[tecpetpar:ModuleFrameZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalCont6B"/>
   <rChild name="tecring6b:TECRing6B"/>
  <rRotation name="tecpetpar:180X"/>
  <Translation x="[zero]" y="[zero]" z="-[tecpetpar:ModuleFrameZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalCont6B"/>
   <rChild name="tecpetal6b:TECPetalFrame6B"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalFrame6B"/>
   <rChild name="tecpetal6b:TECPetal6B"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalFrame6B"/>
   <rChild name="tecpetal6b:TECPetal7B"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalFrame6B"/>
   <rChild name="tecpetal6b:TECPetalaB"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalCont6B"/>
   <rChild name="tecpetal6b:TECICBCont6B1"/>
  <Translation x="[zero]" y="[zero]" z="-[tecpetpar:ICBZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalCont6B"/>
   <rChild name="tecpetal6b:TECICBCont6B2"/>
  <Translation x="[zero]" y="[zero]" z="[tecpetpar:ICBZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECICBCont6B1"/>
   <rChild name="tecring3b:TECICC3B1"/>
  <Translation x="[zero]" y="[zero]" z="[ICCZ]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECICBCont6B1"/>
   <rChild name="tecring5b:TECICC5B1"/>
  <Translation x="[zero]" y="[zero]" z="[ICCZ]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECICBCont6B2"/>
   <rChild name="tecring2b:TECICC2B1"/>
  <Translation x="[zero]" y="[zero]" z="-[ICCZ]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECICBCont6B2"/>
   <rChild name="tecring2b:TECICC2B2"/>
  <Translation x="[zero]" y="[zero]" z="-[ICCZ]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECICBCont6B2"/>
   <rChild name="tecring4b:TECICC4B1"/>
  <Translation x="[zero]" y="[zero]" z="-[ICCZ]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECICBCont6B2"/>
   <rChild name="tecring4b:TECICC4B2"/>
  <Translation x="[zero]" y="[zero]" z="-[ICCZ]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECICBCont6B2"/>
   <rChild name="tecring6b:TECICC6B1"/>
  <Translation x="[zero]" y="[zero]" z="-[ICCZ]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECICBCont6B2"/>
   <rChild name="tecring6b:TECICC6B2"/>
  <Translation x="[zero]" y="[zero]" z="-[ICCZ]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalCont6B"/>
   <rChild name="tecring2b:TECRing2BridgeB"/>
  <Translation x="[zero]" y="[zero]" z="-[tecpetpar:BridgeZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalCont6B"/>
   <rChild name="tecring3b:TECRing3BridgeB"/>
  <Translation x="[zero]" y="[zero]" z="[tecpetpar:BridgeZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalCont6B"/>
   <rChild name="tecring4b:TECRing4BridgeB"/>
  <Translation x="[zero]" y="[zero]" z="-[tecpetpar:BridgeZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalCont6B"/>
   <rChild name="tecring5b:TECRing5BridgeB"/>
  <Translation x="[zero]" y="[zero]" z="[tecpetpar:BridgeZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal6b:TECPetalCont6B"/>
   <rChild name="tecring6b:TECRing6BridgeB"/>
  <Translation x="[zero]" y="[zero]" z="-[tecpetpar:BridgeZ]"/>
 </PosPart>
</PosPartSection>

<Algorithm name="track:DDTECCoolAlgo">
  <rParent name="tecpetal6b:TECPetalFrame6B"/>
  <Numeric name="StartCopyNo"    value="9"/>
  <Vector name="PetalName"      type="string"  nEntries="3">
   tecpetal6b:TECPetal6B,   tecpetal6b:TECPetal7B,
   tecpetal6b:TECPetalaB</Vector>
  <Vector name="PetalR"         type="numeric" nEntries="3">
   [tecpetalb:PetalR1],     [tecpetalb:PetalR2],     [tecpetpar:PetalRmax]
  </Vector>
  <Vector name="PetalWidth"     type="numeric" nEntries="3">
   [tecpetalb:PetalWidth0], [tecpetalb:PetalWidth1], [tecpetalb:PetalWidth2]
  </Vector>
  <Vector name="CoolName"       type="string"  nEntries="4">
   tecpetpar:TECCool1,      tecpetpar:TECCool2,      tecpetpar:TECCool3, 
   tecpetpar:TECCool4</Vector>
  <Vector name="CoolR"          type="numeric" nEntries="4">
   [tecpetpar:CoolR1],      [tecpetpar:CoolR2],      [tecpetpar:CoolR3],
   [tecpetpar:CoolR4]</Vector>
  <Vector name="CoolInsert"     type="numeric" nEntries="2">
   [tecring2b:CoolIns0],    [tecring2b:CoolIns1]</Vector>
  <Numeric name="StartAngle"     value="[tecring2b:Phi0]"/>
  <Numeric name="IncrAngle"      value="[tecring2b:DPhi]"/>
  <Numeric name="Rmin"           value="[tecring2:Rmin]"/>
  <Numeric name="FullHeight"     value="[tecmodule2:FullHeight]"/>
  <Numeric name="DlTop"          value="[tecmodule2:DlTop]"/>
  <Numeric name="DlBottom"       value="[tecmodule2:DlBottom]"/>
  <Numeric name="DlHybrid"       value="[tecmodule2:DlHybrid]"/>
  <Numeric name="TopFrameHeight" value="[tecmodpar:TopFrameHeight]"/>
  <Numeric name="FrameWidth"     value="[tecmodpar:FrameWidth]"/>
  <Numeric name="FrameOver"      value="[tecmodpar:FrameOver]"/>
  <Numeric name="HybridHeight"   value="[tecmodpar:HybridHeight]"/>
  <Numeric name="HybridWidth"    value="[tecmodpar:HybridWidth]"/>
</Algorithm>
<Algorithm name="track:DDTECCoolAlgo">
  <rParent name="tecpetal6b:TECPetalFrame6B"/>
  <Numeric name="StartCopyNo"    value="15"/>
  <Vector name="PetalName"      type="string"  nEntries="3">
   tecpetal6b:TECPetal6B,   tecpetal6b:TECPetal7B,
   tecpetal6b:TECPetalaB</Vector>
  <Vector name="PetalR"         type="numeric" nEntries="3">
   [tecpetalb:PetalR1],     [tecpetalb:PetalR2],     [tecpetpar:PetalRmax]
  </Vector>
  <Vector name="PetalWidth"     type="numeric" nEntries="3">
   [tecpetalb:PetalWidth0], [tecpetalb:PetalWidth1], [tecpetalb:PetalWidth2]
  </Vector>
  <Vector name="CoolName"       type="string"  nEntries="4">
   tecpetpar:TECCool1,      tecpetpar:TECCool2,      tecpetpar:TECCool3, 
   tecpetpar:TECCool4</Vector>
  <Vector name="CoolR"          type="numeric" nEntries="4">
   [tecpetpar:CoolR1],      [tecpetpar:CoolR2],      [tecpetpar:CoolR3],
   [tecpetpar:CoolR4]</Vector>
  <Vector name="CoolInsert"     type="numeric" nEntries="3">
   [tecring3b:CoolIns0],    [tecring3b:CoolIns1],    [tecring3b:CoolIns2]
  </Vector>
  <Numeric name="StartAngle"     value="[tecring3b:Phi0]"/>
  <Numeric name="IncrAngle"      value="[tecring3b:DPhi]"/>
  <Numeric name="Rmin"           value="[tecring3:Rmin]"/>
  <Numeric name="FullHeight"     value="[tecmodule3:FullHeight]"/>
  <Numeric name="DlTop"          value="[tecmodule3:DlTop]"/>
  <Numeric name="DlBottom"       value="[tecmodule3:DlBottom]"/>
  <Numeric name="DlHybrid"       value="[tecmodule3:DlHybrid]"/>
  <Numeric name="TopFrameHeight" value="[tecmodpar:TopFrameHeight]"/>
  <Numeric name="FrameWidth"     value="[tecmodpar:FrameWidth]"/>
  <Numeric name="FrameOver"      value="[tecmodpar:FrameOver]"/>
  <Numeric name="HybridHeight"   value="[tecmodpar:HybridHeight]"/>
  <Numeric name="HybridWidth"    value="[tecmodpar:HybridWidth]"/>
</Algorithm>
<Algorithm name="track:DDTECCoolAlgo">
  <rParent name="tecpetal6b:TECPetalFrame6B"/>
  <Numeric name="StartCopyNo"    value="23"/>
  <Vector name="PetalName"      type="string"  nEntries="3">
   tecpetal6b:TECPetal6B,   tecpetal6b:TECPetal7B,
   tecpetal6b:TECPetalaB</Vector>
  <Vector name="PetalR"         type="numeric" nEntries="3">
   [tecpetalb:PetalR1],     [tecpetalb:PetalR2],     [tecpetpar:PetalRmax]
  </Vector>
  <Vector name="PetalWidth"     type="numeric" nEntries="3">
   [tecpetalb:PetalWidth0], [tecpetalb:PetalWidth1], [tecpetalb:PetalWidth2]
  </Vector>
  <Vector name="CoolName"       type="string"  nEntries="4">
   tecpetpar:TECCool1,      tecpetpar:TECCool2,      tecpetpar:TECCool3, 
   tecpetpar:TECCool4</Vector>
  <Vector name="CoolR"          type="numeric" nEntries="4">
   [tecpetpar:CoolR1],      [tecpetpar:CoolR2],      [tecpetpar:CoolR3],
   [tecpetpar:CoolR4]</Vector>
  <Vector name="CoolInsert"     type="numeric" nEntries="3">
   [tecring4b:CoolIns0],    [tecring4b:CoolIns1],    [tecring4b:CoolIns2]
  </Vector>
  <Numeric name="StartAngle"     value="[tecring4b:Phi0]"/>
  <Numeric name="IncrAngle"      value="[tecring4b:DPhi]"/>
  <Numeric name="Rmin"           value="[tecring4:Rmin]"/>
  <Numeric name="FullHeight"     value="[tecmodule4:FullHeight]"/>
  <Numeric name="DlTop"          value="[tecmodule4:DlTop]"/>
  <Numeric name="DlBottom"       value="[tecmodule4:DlBottom]"/>
  <Numeric name="DlHybrid"       value="[tecmodule4:DlHybrid]"/>
  <Numeric name="TopFrameHeight" value="[tecmodpar:TopFrameHeight]"/>
  <Numeric name="FrameWidth"     value="[tecmodpar:FrameWidth]"/>
  <Numeric name="FrameOver"      value="[tecmodpar:FrameOver]"/>
  <Numeric name="HybridHeight"   value="[tecmodpar:HybridHeight]"/>
  <Numeric name="HybridWidth"    value="[tecmodpar:HybridWidth]"/>
</Algorithm>
<Algorithm name="track:DDTECCoolAlgo">
  <rParent name="tecpetal6b:TECPetalFrame6B"/>
  <Numeric name="StartCopyNo"    value="33"/>
  <Vector name="PetalName"      type="string"  nEntries="3">
   tecpetal6b:TECPetal6B,   tecpetal6b:TECPetal7B,
   tecpetal6b:TECPetalaB</Vector>
  <Vector name="PetalR"         type="numeric" nEntries="3">
   [tecpetalb:PetalR1],     [tecpetalb:PetalR2],     [tecpetpar:PetalRmax]
  </Vector>
  <Vector name="PetalWidth"     type="numeric" nEntries="3">
   [tecpetalb:PetalWidth0], [tecpetalb:PetalWidth1], [tecpetalb:PetalWidth2]
  </Vector>
  <Vector name="CoolName"       type="string"  nEntries="4">
   tecpetpar:TECCool1,      tecpetpar:TECCool2,      tecpetpar:TECCool3, 
   tecpetpar:TECCool4</Vector>
  <Vector name="CoolR"          type="numeric" nEntries="4">
   [tecpetpar:CoolR1],      [tecpetpar:CoolR2],      [tecpetpar:CoolR3],
   [tecpetpar:CoolR4]</Vector>
  <Vector name="CoolInsert"     type="numeric" nEntries="3">
   [tecring5b:CoolIns0],    [tecring5b:CoolIns1],    [tecring5b:CoolIns2]
  </Vector>
  <Numeric name="StartAngle"     value="[tecring5b:Phi0]"/>
  <Numeric name="IncrAngle"      value="[tecring5b:DPhi]"/>
  <Numeric name="Rmin"           value="[tecring5:Rmin]"/>
  <Numeric name="FullHeight"     value="[tecmodule5:FullHeight]"/>
  <Numeric name="DlTop"          value="[tecmodule5:DlTop]"/>
  <Numeric name="DlBottom"       value="[tecmodule5:DlBottom]"/>
  <Numeric name="DlHybrid"       value="[tecmodule5:DlHybrid]"/>
  <Numeric name="TopFrameHeight" value="[tecmodpar:TopFrameHeight]"/>
  <Numeric name="FrameWidth"     value="[tecmodpar:FrameWidth]"/>
  <Numeric name="FrameOver"      value="[tecmodpar:FrameOver]"/>
  <Numeric name="HybridHeight"   value="[tecmodpar:HybridHeight]"/>
  <Numeric name="HybridWidth"    value="[tecmodpar:HybridWidth]"/>
</Algorithm>
<Algorithm name="track:DDTECCoolAlgo">
  <rParent name="tecpetal6b:TECPetalFrame6B"/>
  <Numeric name="StartCopyNo"    value="43"/>
  <Vector name="PetalName"      type="string"  nEntries="3">
   tecpetal6b:TECPetal6B,   tecpetal6b:TECPetal7B,
   tecpetal6b:TECPetalaB</Vector>
  <Vector name="PetalR"         type="numeric" nEntries="3">
   [tecpetalb:PetalR1],     [tecpetalb:PetalR2],     [tecpetpar:PetalRmax]
  </Vector>
  <Vector name="PetalWidth"     type="numeric" nEntries="3">
   [tecpetalb:PetalWidth0], [tecpetalb:PetalWidth1], [tecpetalb:PetalWidth2]
  </Vector>
  <Vector name="CoolName"       type="string"  nEntries="4">
   tecpetpar:TECCool1,      tecpetpar:TECCool2,      tecpetpar:TECCool3, 
   tecpetpar:TECCool4</Vector>
  <Vector name="CoolR"          type="numeric" nEntries="4">
   [tecpetpar:CoolR1],      [tecpetpar:CoolR2],      [tecpetpar:CoolR3],
   [tecpetpar:CoolR4]</Vector>
  <Vector name="CoolInsert"     type="numeric" nEntries="5">
   [tecring6b:CoolIns0],    [tecring6b:CoolIns1],    [tecring6b:CoolIns2],
   [tecring6b:CoolIns3],    [tecring6b:CoolIns4]</Vector>
  <Numeric name="StartAngle"     value="[tecring6b:Phi0]"/>
  <Numeric name="IncrAngle"      value="[tecring6b:DPhi]"/>
  <Numeric name="Rmin"           value="[tecring6:Rmin]"/>
  <Numeric name="FullHeight"     value="[tecmodule6:FullHeight]"/>
  <Numeric name="DlTop"          value="[tecmodule6:DlTop]"/>
  <Numeric name="DlBottom"       value="[tecmodule6:DlBottom]"/>
  <Numeric name="DlHybrid"       value="[tecmodule6:DlHybrid]"/>
  <Numeric name="TopFrameHeight" value="[tecmodpar:TopFrameHeight]"/>
  <Numeric name="FrameWidth"     value="[tecmodpar:FrameWidth]"/>
  <Numeric name="FrameOver"      value="[tecmodpar:FrameOver]"/>
  <Numeric name="HybridHeight"   value="[tecmodpar:HybridHeight]"/>
  <Numeric name="HybridWidth"    value="[tecmodpar:HybridWidth]"/>
</Algorithm>

<Algorithm name="track:DDTECOptoHybAlgo">
  <rParent name="tecpetal6b:TECICBCont6B1"/>
  <String name="ChildName"     value="tecpetpar:TECOptoHybrid"/>
  <Numeric name="Rmin"         value="[tecring3b:RminICC]"/>
  <Numeric name="Rmax"         value="[tecring3b:RmaxICC]"/>
  <Numeric name="Zpos"         value="-[tecpetpar:HybridZ]"/>
  <Numeric name="StartCopyNo"  value="1"/>
  <Vector name="Angles"        type="numeric" nEntries="2">
   [tecring3b:AngleHyb0],   [tecring3b:AngleHyb1]
  </Vector>
</Algorithm>
<Algorithm name="track:DDTECOptoHybAlgo">
  <rParent name="tecpetal6b:TECICBCont6B1"/>
  <String name="ChildName"     value="tecpetpar:TECOptoHybrid"/>
  <Numeric name="Rmin"         value="[tecring5b:RminICC]"/>
  <Numeric name="Rmax"         value="[tecring5b:RmaxICC]"/>
  <Numeric name="Zpos"         value="-[tecpetpar:HybridZ]"/>
  <Numeric name="StartCopyNo"  value="3"/>
  <Vector name="Angles"        type="numeric" nEntries="11">
   [tecring5b:AngleHyb0],   [tecring5b:AngleHyb1],   [tecring5b:AngleHyb2],
   [tecring5b:AngleHyb3],   [tecring5b:AngleHyb4],   [tecring5b:AngleHyb5],
   [tecring5b:AngleHyb6],   [tecring5b:AngleHyb7],   [tecring5b:AngleHyb8],
   [tecring5b:AngleHyb9],   [tecring5b:AngleHybA]
  </Vector>
</Algorithm>

<Algorithm name="track:DDTECOptoHybAlgo">
  <rParent name="tecpetal6b:TECICBCont6B2"/>
  <String name="ChildName"     value="tecpetpar:TECOptoHybrid"/>
  <Numeric name="Rmin"         value="[tecring4b:RminICC]"/>
  <Numeric name="Rmax"         value="[tecring4b:RmaxICC]"/>
  <Numeric name="Zpos"         value="[tecpetpar:HybridZ]"/>
  <Numeric name="StartCopyNo"  value="3"/>
  <Vector name="Angles"        type="numeric" nEntries="3">
   [tecring4b:AngleHyb0],   [tecring4b:AngleHyb1],   [tecring4b:AngleHyb2]
  </Vector>
</Algorithm>
<Algorithm name="track:DDTECOptoHybAlgo">
  <rParent name="tecpetal6b:TECICBCont6B2"/>
  <String name="ChildName"     value="tecpetpar:TECOptoHybrid"/>
  <Numeric name="Rmin"         value="[tecring6b:RminICC]"/>
  <Numeric name="Rmax"         value="[tecring6b:RmaxICC]"/>
  <Numeric name="Zpos"         value="[tecpetpar:HybridZ]"/>
  <Numeric name="StartCopyNo"  value="6"/>
  <Vector name="Angles"        type="numeric" nEntries="3">
   [tecring6b:AngleHyb0],   [tecring6b:AngleHyb1],   [tecring6b:AngleHyb2]
  </Vector>
</Algorithm>

</DDDefinition>
