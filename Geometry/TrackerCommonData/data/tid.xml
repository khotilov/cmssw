<?xml version="1.0"?>
<DDDefinition xmlns="http://www.cern.ch/cms/DDL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cern.ch/cms/DDL ../../../DetectorDescription/Schema/DDLSchema.xsd">

<ConstantsSection label="tid.xml" eval="true">
 <Constant name="zero"          value="0.0*fm"/>
 <Constant name="Rin"           value="22.20*cm"/>
 <Constant name="Rout"          value="52.00*cm"/>
 <Constant name="Zv1"           value="73.6*cm"/>         <!-- begin of TID envelope  DO NOT TOUCH IT! -->
 <Constant name="Zv2"           value="111.3*cm"/>    
 <Constant name="WheelRin"      value="22.38*cm"/>
 <Constant name="WheelRout"     value="51.20*cm"/>
 <Constant name="WheelT"        value="10.00*cm"/>
 <Constant name="WheelDZ0"      value="5.5*cm"/>         <!-- Z off of Disk1 -->
 <Constant name="WheelDZ"       value="12.95*cm"/>       <!-- Z pitch of Disks -->
 <Constant name="Wheel0Z"       value="[Zv1]+[WheelDZ0]"/>
 <Constant name="Wheel1Z"       value="[Wheel0Z]+[WheelDZ]"/>
 <Constant name="Wheel2Z"       value="[Wheel1Z]+[WheelDZ]"/>
 <Constant name="RingZ"         value="3.50*cm"/>
 <Constant name="SupportT"      value="0.10*cm"/>
 <Constant name="SupportRin"    value="[WheelRout]"/>
 <Constant name="SupportRout"   value="52.00*cm"/>
 <Constant name="SupportL"      value="37.7*cm"/>       <!-- 37.2+0.5 ie [SideDiskT] included -->
 <Constant name="SupportZ"      value="[Zv1]+[SupportL]/2"/>
 <Constant name="SupportInRin"  value="[SupportRin]+[SupportT]"/>
 <Constant name="SupportInRout" value="[SupportRout]-[SupportT]"/>
 <Constant name="SideDiskRin"   value="22.80*cm"/>
 <Constant name="SideDiskT"     value="0.50*cm"/>
 <Constant name="SideDiskZ"     value="[Zv1]+[SupportL]-[SideDiskT]/2"/>
 <Constant name="SideDiskInT"   value="0.50*cm"/>
 <Constant name="WheelFixRin"   value="46.20*cm"/>
 <Constant name="WheelFixT"     value="0.70*cm"/>
 <Constant name="WheelFixW"     value="6.25*deg"/>
 <Constant name="WheelFixPhi"   value="90.0*deg"/>
</ConstantsSection>

<SolidSection label="tid.xml">

 <Polycone name="TID" startPhi="0*deg" deltaPhi="360*deg" >
  <ZSection z="[Zv1]"      rMin="[Rin]"         rMax="[Rout]" />
  <ZSection z="[Zv2]"      rMin="[Rin]"         rMax="[Rout]" />
 </Polycone>
 <Tubs name="TIDWheel"      rMin="[WheelRin]"       rMax="[WheelRout]"
                            dz="[WheelT]/2"         startPhi="0*deg"
                            deltaPhi="360*deg"/>
 <Tubs name="TIDSupport"    rMin="[SupportRin]"     rMax="[SupportRout]"
                            dz="[SupportL]/2"       startPhi="0*deg"
                            deltaPhi="360*deg"/>
 <Tubs name="TIDSupportIn"  rMin="[SupportInRin]"   rMax="[SupportInRout]"
                            dz="[SupportL]/2"       startPhi="0*deg"
                            deltaPhi="360*deg"/>
 <Tubs name="TIDSideDisk"   rMin="[SideDiskRin]"    rMax="[WheelRout]"
                            dz="[SideDiskT]/2"      startPhi="0*deg"
                            deltaPhi="360*deg"/>
 <Tubs name="TIDSideDiskIn" rMin="[SideDiskRin]"    rMax="[WheelRout]"
                            dz="[SideDiskInT]/2"    startPhi="0*deg"
                            deltaPhi="360*deg"/>
 <Tubs name="TIDWheelFix"   rMin="[WheelFixRin]"    rMax="[WheelRout]"
                            dz="[WheelFixT]/2"      startPhi="-[WheelFixW]/2"
                            deltaPhi="[WheelFixW]"/>
</SolidSection>

<LogicalPartSection label="tid.xml">
 <LogicalPart name="TIDSupport" category="unspecified">
  <rSolid name="TIDSupport"/>
  <rMaterial name="materials:Carbon fibre str."/>
 </LogicalPart>
 <LogicalPart name="TIDSupportIn" category="unspecified">
  <rSolid name="TIDSupportIn"/>
  <rMaterial name="materials:Nomex"/>
 </LogicalPart>
 <LogicalPart name="TIDSideDisk" category="unspecified">
  <rSolid name="TIDSideDisk"/>
  <rMaterial name="materials:Carbon fibre str."/>
  </LogicalPart>
 <LogicalPart name="TIDSideDiskIn" category="unspecified">
  <rSolid name="TIDSideDiskIn"/>
  <rMaterial name="materials:Nomex"/>
  </LogicalPart>
 <LogicalPart name="TIDWheelFix" category="unspecified">
  <rSolid name="TIDWheelFix"/>
  <rMaterial name="tidmaterial:TID_Wheel_Fixation"/>
 </LogicalPart>
</LogicalPartSection>

<PosPartSection label="tid.xml">
 <PosPart copyNumber="1">
   <rParent name="tid:TIDSupport"/>
   <rChild name="tid:TIDSupportIn"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tid:TIDSideDisk"/>
   <rChild name="tid:TIDSideDiskIn"/>
 </PosPart>
</PosPartSection>

<Algorithm name="track:DDTrackerAngular">
  <rParent name="tidring0:TIDStructure0"/>
  <String  name="ChildName"   value="tid:TIDWheelFix"/>
  <Numeric name="N"           value="3" />
  <Numeric name="StartCopyNo" value="1" />
  <Numeric name="IncrCopyNo"  value="1" />
  <Numeric name="RangeAngle"  value="360*deg"/>
  <Numeric name="StartAngle"  value="[WheelFixPhi]"/>
  <Numeric name="Radius"      value="0"/>
  <Vector name="Center" type="numeric" nEntries="3"> 
   [zero], [zero], [zero]
  </Vector>
</Algorithm>

</DDDefinition>
