<?xml version="1.0"?>
<DDDefinition xmlns="http://www.cern.ch/cms/DDL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cern.ch/cms/DDL ../../DetectorDescription/Schema/DDLSchema.xsd">

<ConstantsSection label="tec.xml" eval="true">
 <Constant name="zero"            value="0.0*fm"/>
 <Constant name="Rin"             value="22.20*cm"/>
 <Constant name="Rout"            value="113.05*cm"/>
 <Constant name="ZStart"          value="123.00*cm"/>
 <Constant name="ZEnd"            value="282.00*cm"/>
 <Constant name="WheelR"          value="110.30*cm"/>
 <Constant name="OuterSkinRin"    value="113.00*cm"/>
 <Constant name="BackPlateRin"    value="30.90*cm"/>
 <Constant name="BackPlateZ1"     value="273.70*cm"/>
 <Constant name="FrontPlateRin"   value="22.90*cm"/>
 <Constant name="FrontPlateZ1"    value="124.00*cm"/>
 <Constant name="FrontPlateZ2"    value="124.54*cm"/>
 <Constant name="PeriscopeRin"    value="30.90*cm"/>
 <Constant name="PeriscopeRout"   value="39.90*cm"/>
 <Constant name="PeriscopeDz"     value="3.00*cm"/>
 <Constant name="PeriscopeZ"      value="279.00*cm"/>
 <Constant name="TiltmeterRin"    value="30.90*cm"/>
 <Constant name="TiltmeterRout"   value="32.90*cm"/>
 <Constant name="TiltmeterDz"     value="2.50*cm"/>
 <Constant name="TiltmeterZ"      value="278.70*cm"/>
 <Constant name="FixFrameDR"      value="2.30*cm"/>
 <Constant name="FixServiceRin"   value="108.80*cm"/>
 <Constant name="BackPlateFixDz"  value="0.50*cm"/>
 <Constant name="BackPlateFixZ"   value="274.20*cm"/>
 <Constant name="BeamSupportRin"  value="30.00*cm"/>
 <Constant name="BeamSupportRout" value="30.10*cm"/>
 <Constant name="BeamSupportZ1"   value="169.50*cm"/>
 <Constant name="InTubeRin1"      value="22.50*cm"/>
 <Constant name="InTubeRin2"      value="30.50*cm"/>
 <Constant name="InTubeRout1"     value="22.80*cm"/>
 <Constant name="InTubeRout2"     value="30.80*cm"/>
 <Constant name="InTubeZ1"        value="166.40*cm"/>
 <Constant name="InTubeZ2"        value="173.03*cm"/>
 <Constant name="ServiceRin"      value="110.60*cm"/>
 <Constant name="ServiceRout"     value="113.00*cm"/>
 <Constant name="ServiceZ1"       value="124.00*cm"/>
 <Constant name="RailsRin"        value="112.70*cm"/>
 <Constant name="Wheel0Z"         value="132.25*cm"/>
 <Constant name="Wheel1Z"         value="146.25*cm"/>
 <Constant name="Wheel2Z"         value="160.25*cm"/>
 <Constant name="Wheel3Z"         value="174.25*cm"/>
 <Constant name="Wheel4Z"         value="188.25*cm"/>
 <Constant name="Wheel5Z"         value="205.75*cm"/>
 <Constant name="Wheel6Z"         value="224.75*cm"/>
 <Constant name="Wheel7Z"         value="245.25*cm"/>
 <Constant name="Wheel8Z"         value="266.75*cm"/>
 <Constant name="AxialCableW"     value="2.0*deg"/>
 <Constant name="AxialCableT"     value="0.21*cm"/>
 <Constant name="CableFi1"        value="-11.25*deg"/>
 <Constant name="CableFi2"        value="11.25*deg"/>
 <Constant name="TECDz"           value="([ZEnd]-[ZStart])/2"/>
 <Constant name="ZPos"            value="([ZEnd]+[ZStart])/2"/>
 <Constant name="BackFixRout"     value="[BackPlateRin]+[FixFrameDR]"/>
 <Constant name="FrontFixRout"    value="[FrontPlateRin]+[FixFrameDR]"/>
 <Constant name="FrontPlateDz"    value="([FrontPlateZ2]-[FrontPlateZ1])/2"/>
 <Constant name="PeriZ"         value="([ZEnd]+[BackPlateZ1])/2-[PeriscopeZ]"/>
 <Constant name="DPhi"            value="[AxialCableW]+0.05*deg"/>
 <Constant name="AxialCableDz"    value="[tecpetpar:PetalThick]+
                                         [tecpetpar:ICCThick]"/>
</ConstantsSection>

<SolidSection label="tec.xml">
 <Tubs name="TEC"                 rMin="[Rin]" 
       rMax="[Rout]"              dz="[TECDz]" 
       startPhi="0*deg"           deltaPhi="360*deg"/>
 <Tubs name="TECWheels"           rMin="[Rin]" 
       rMax="[WheelR]"            dz="[TECDz]" 
       startPhi="0*deg"           deltaPhi="360*deg"/>
 <Tubs name="TECOuterSkin"        rMin="[OuterSkinRin]" 
       rMax="[Rout]"              dz="[TECDz]" 
       startPhi="0*deg"           deltaPhi="360*deg"/>
 <Tubs name="TECBackPlate"        rMin="[BackPlateRin]" 
       rMax="[WheelR]"            dz="([ZEnd]-[BackPlateZ1])/2" 
       startPhi="0*deg"           deltaPhi="360*deg"/>
 <Tubs name="TECBackPlateFixB"    rMin="[BackPlateRin]" 
       rMax="[BackFixRout]"       dz="[BackPlateFixDz]" 
       startPhi="-7.60*deg"       deltaPhi="15.20*deg"/>
 <Tubs name="TECBackPlateFixT"    rMin="[FixServiceRin]" 
       rMax="[WheelR]"            dz="[BackPlateFixDz]" 
       startPhi="-2.50*deg"       deltaPhi="5.00*deg"/>
 <Tubs name="TECFrontPlate"       rMin="[FrontPlateRin]" 
       rMax="[WheelR]"            dz="[FrontPlateDz]" 
       startPhi="0*deg"           deltaPhi="360*deg"/>
 <Tubs name="TECFrontPlateFixB"   rMin="[FrontPlateRin]" 
       rMax="[FrontFixRout]"      dz="[FrontPlateDz]" 
       startPhi="-7.60*deg"       deltaPhi="15.20*deg"/>
 <Tubs name="TECFrontPlateFixT"   rMin="[FixServiceRin]" 
       rMax="[WheelR]"            dz="[FrontPlateDz]" 
       startPhi="-2.50*deg"       deltaPhi="5.00*deg"/>
 <Tubs name="TECPeriscope"        rMin="[PeriscopeRin]" 
       rMax="[PeriscopeRout]"     dz="[PeriscopeDz]" 
       startPhi="-5.0*deg"        deltaPhi="10*deg"/>
 <Tubs name="TECTiltmeter"        rMin="[TiltmeterRin]" 
       rMax="[TiltmeterRout]"     dz="[TiltmeterDz]" 
       startPhi="-1.8*deg"        deltaPhi="3.6*deg"/>
 <Tubs name="TECBeamSupport"      rMin="[BeamSupportRin]"
       rMax="[BeamSupportRout]"   dz="([ZEnd]-[BeamSupportZ1])/2" 
       startPhi="0*deg"           deltaPhi="360*deg"/>
 <Polycone name="TECInnerTube" startPhi="0*deg" deltaPhi="360*deg" >
  <ZSection z="-[TECDz]"            rMin="[InTubeRin1]" rMax="[InTubeRout1]" />
  <ZSection z="([InTubeZ1]-[ZPos])" rMin="[InTubeRin1]" rMax="[InTubeRout1]" />
  <ZSection z="([InTubeZ2]-[ZPos])" rMin="[InTubeRin2]" rMax="[InTubeRout2]" />
  <ZSection z="[TECDz]"             rMin="[InTubeRin2]" rMax="[InTubeRout2]" />
 </Polycone> 
 <Tubs name="TECCableService"     rMin="[WheelR]"
       rMax="[ServiceRin]"        dz="[TECDz]"
       startPhi="0*deg"           deltaPhi="360*deg"/>
 <Tubs name="TECOtherService"     rMin="[ServiceRin]"
       rMax="[ServiceRout]"       dz="([ZEnd]-[ServiceZ1])/2"
       startPhi="0*deg"           deltaPhi="360*deg"/>
 <Tubs name="TECServiceRods"      rMin="[ServiceRin]"
       rMax="[ServiceRout]"       dz="([ZEnd]-[ServiceZ1])/2"
       startPhi="-2.32*deg"       deltaPhi="4.64*deg"/>
 <Tubs name="TECRails"            rMin="[ServiceRin]"
       rMax="[ServiceRout]"       dz="([ZEnd]-[ServiceZ1])/2"
       startPhi="-2.527*deg"      deltaPhi="5.054*deg"/>
</SolidSection>

<LogicalPartSection label="tec.xml">
 <LogicalPart name="TEC" category="unspecified">
  <rSolid name="tec:TEC"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="TECWheels" category="unspecified">
  <rSolid name="tec:TECWheels"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="TECOuterSkin" category="unspecified">
  <rSolid name="tec:TECOuterSkin"/>
  <rMaterial name="tecmaterial:Tk_SO_FC_A"/>
 </LogicalPart>
 <LogicalPart name="TECBackPlate" category="unspecified">
  <rSolid name="tec:TECBackPlate"/>
  <rMaterial name="tecmaterial:Tk_SO_FC_B"/>
 </LogicalPart>
 <LogicalPart name="TECBackPlateFixB" category="unspecified">
  <rSolid name="tec:TECBackPlateFixB"/>
  <rMaterial name="tecmaterial:TEC_Fixframe"/>
 </LogicalPart>
 <LogicalPart name="TECBackPlateFixT" category="unspecified">
  <rSolid name="tec:TECBackPlateFixT"/>
  <rMaterial name="tecmaterial:TEC_FixServ"/>
 </LogicalPart>
 <LogicalPart name="TECFrontPlate" category="unspecified">
  <rSolid name="tec:TECFrontPlate"/>
  <rMaterial name="tecmaterial:Tk_SO_FC_C"/>
 </LogicalPart>
 <LogicalPart name="TECFrontPlateFixB" category="unspecified">
  <rSolid name="tec:TECFrontPlateFixB"/>
  <rMaterial name="tecmaterial:TEC_Fixframe"/>
 </LogicalPart>
 <LogicalPart name="TECFrontPlateFixT" category="unspecified">
  <rSolid name="tec:TECFrontPlateFixT"/>
  <rMaterial name="tecmaterial:TEC_FixServ"/>
 </LogicalPart>
 <LogicalPart name="TECPeriscope" category="unspecified">
  <rSolid name="tec:TECPeriscope"/>
  <rMaterial name="tecmaterial:TEC_periscopes"/>
 </LogicalPart>
 <LogicalPart name="TECTiltmeter" category="unspecified">
  <rSolid name="tec:TECTiltmeter"/>
  <rMaterial name="tecmaterial:TEC_tiltmeter"/>
 </LogicalPart>
 <LogicalPart name="TECBeamSupport" category="unspecified">
  <rSolid name="tec:TECBeamSupport"/>
  <rMaterial name="tecmaterial:Tk_SO_FC_D"/>
 </LogicalPart>
 <LogicalPart name="TECInnerTube" category="unspecified">
  <rSolid name="tec:TECInnerTube"/>
  <rMaterial name="tecmaterial:Tk_SO_FC_E"/>
 </LogicalPart>
 <LogicalPart name="TECCableService" category="unspecified">
  <rSolid name="tec:TECCableService"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="TECOtherService" category="unspecified">
  <rSolid name="tec:TECOtherService"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="TECServiceRods" category="unspecified">
  <rSolid name="tec:TECServiceRods"/>
  <rMaterial name="tecmaterial:TEC_rods"/>
 </LogicalPart>
 <LogicalPart name="TECRails" category="unspecified">
  <rSolid name="tec:TECRails"/>
  <rMaterial name="tecmaterial:Tk_SO_FC_F"/>
 </LogicalPart>
</LogicalPartSection>

<PosPartSection label="tec.xml">
 <PosPart copyNumber="1">
   <rParent name="tec:TEC"/>
   <rChild name="tec:TECWheels"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tec:TEC"/>
   <rChild name="tec:TECOuterSkin"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tec:TECWheels"/>
   <rChild name="tec:TECBackPlate"/>
  <Translation x="[zero]" y="[zero]" z="([BackPlateZ1]-[ZStart])/2"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tec:TECWheels"/>
   <rChild name="tec:TECFrontPlate"/>
  <Translation x="[zero]" y="[zero]" 
               z="([FrontPlateZ2]+[FrontPlateZ1])/2-[ZPos]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tec:TECWheels"/>
   <rChild name="tec:TECBeamSupport"/>
  <Translation x="[zero]" y="[zero]" z="([BeamSupportZ1]-[ZStart])/2"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tec:TECWheels"/>
   <rChild name="tec:TECInnerTube"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tec:TEC"/>
   <rChild name="tec:TECCableService"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tec:TEC"/>
   <rChild name="tec:TECOtherService"/>
  <Translation x="[zero]" y="[zero]" z="([ServiceZ1]-[ZStart])/2"/>
 </PosPart>
 <PosPart copyNumber="0">
   <rParent name="tec:TECWheels"/>
   <rChild name="tecwheela:TECWheelA"/>
  <Translation x="[zero]" y="[zero]" z="[Wheel0Z]-[ZPos]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tec:TECWheels"/>
   <rChild name="tecwheela:TECWheelA"/>
  <Translation x="[zero]" y="[zero]" z="[Wheel1Z]-[ZPos]"/>
 </PosPart>
 <PosPart copyNumber="2">
   <rParent name="tec:TECWheels"/>
   <rChild name="tecwheela:TECWheelA"/>
  <Translation x="[zero]" y="[zero]" z="[Wheel2Z]-[ZPos]"/>
 </PosPart>
 <PosPart copyNumber="3">
   <rParent name="tec:TECWheels"/>
   <rChild name="tecwheelb:TECWheelB"/>
  <Translation x="[zero]" y="[zero]" z="[Wheel3Z]-[ZPos]"/>
 </PosPart>
 <PosPart copyNumber="4">
   <rParent name="tec:TECWheels"/>
   <rChild name="tecwheelb:TECWheelB"/>
  <Translation x="[zero]" y="[zero]" z="[Wheel4Z]-[ZPos]"/>
 </PosPart>
 <PosPart copyNumber="5">
   <rParent name="tec:TECWheels"/>
   <rChild name="tecwheelb:TECWheelB"/>
  <Translation x="[zero]" y="[zero]" z="[Wheel5Z]-[ZPos]"/>
 </PosPart>
 <PosPart copyNumber="6">
   <rParent name="tec:TECWheels"/>
   <rChild name="tecwheelc:TECWheelC"/>
  <Translation x="[zero]" y="[zero]" z="[Wheel6Z]-[ZPos]"/>
 </PosPart>
 <PosPart copyNumber="7">
   <rParent name="tec:TECWheels"/>
   <rChild name="tecwheelc:TECWheelC"/>
  <Translation x="[zero]" y="[zero]" z="[Wheel7Z]-[ZPos]"/>
 </PosPart>
 <PosPart copyNumber="8">
   <rParent name="tec:TECWheels"/>
   <rChild name="tecwheeld:TECWheelD"/>
  <Translation x="[zero]" y="[zero]" z="[Wheel8Z]-[ZPos]"/>
 </PosPart>
</PosPartSection>

<Algorithm name="track:DDTrackerPhiAlgo">
  <rParent name="tec:TECBackPlate"/>
  <String name="ChildName"    value="tec:TECPeriscope"/>
  <Numeric name="Radius"      value="[zero]"/>
  <Numeric name="Tilt"        value="0*deg"/>
  <Vector name="Phi" type="numeric" nEntries="6">
   18.75*deg, 71.25*deg, 123.75*deg, 198.75*deg, 251.25*deg, 303.75*deg
  </Vector>
  <Vector name="ZPos" type="numeric" nEntries="6">
   [PeriZ], [PeriZ], [PeriZ], [PeriZ], [PeriZ], [PeriZ]
  </Vector>
</Algorithm>
<Algorithm name="track:DDTrackerAngular">
  <rParent name="tec:TECBackPlate"/>
  <String  name="ChildName"   value="tec:TECTiltmeter"/>
  <Numeric name="N"           value="4" />
  <Numeric name="StartCopyNo" value="1" />
  <Numeric name="IncrCopyNo"  value="1" />
  <Numeric name="RangeAngle"  value="360*deg"/>
  <Numeric name="StartAngle"  value="10*deg"/>
  <Numeric name="Radius"      value="[zero]"/>
  <Vector name="Center" type="numeric" nEntries="3">
    0, 0, ([ZEnd]+[BackPlateZ1])/2-[TiltmeterZ]  </Vector>
</Algorithm>
<Algorithm name="track:DDTrackerAngular">
  <rParent name="tec:TECBackPlate"/>
  <String  name="ChildName"   value="tec:TECBackPlateFixB"/>
  <Numeric name="N"           value="4" />
  <Numeric name="StartCopyNo" value="1" />
  <Numeric name="IncrCopyNo"  value="1" />
  <Numeric name="RangeAngle"  value="360*deg"/>
  <Numeric name="StartAngle"  value="67.5*deg"/>
  <Numeric name="Radius"      value="[zero]"/>
  <Vector name="Center" type="numeric" nEntries="3">
    0, 0, ([ZEnd]+[BackPlateZ1])/2-[BackPlateFixZ]  </Vector>
</Algorithm>
<Algorithm name="track:DDTrackerAngular">
  <rParent name="tec:TECBackPlate"/>
  <String  name="ChildName"   value="tec:TECBackPlateFixT"/>
  <Numeric name="N"           value="8" />
  <Numeric name="StartCopyNo" value="1" />
  <Numeric name="IncrCopyNo"  value="1" />
  <Numeric name="RangeAngle"  value="360*deg"/>
  <Numeric name="StartAngle"  value="11.25*deg"/>
  <Numeric name="Radius"      value="[zero]"/>
  <Vector name="Center" type="numeric" nEntries="3">
    0, 0, ([ZEnd]+[BackPlateZ1])/2-[BackPlateFixZ]  </Vector>
</Algorithm>

<Algorithm name="track:DDTrackerAngular">
  <rParent name="tec:TECFrontPlate"/>
  <String  name="ChildName"   value="tec:TECFrontPlateFixB"/>
  <Numeric name="N"           value="4" />
  <Numeric name="StartCopyNo" value="1" />
  <Numeric name="IncrCopyNo"  value="1" />
  <Numeric name="RangeAngle"  value="360*deg"/>
  <Numeric name="StartAngle"  value="67.5*deg"/>
  <Numeric name="Radius"      value="[zero]"/>
  <Vector name="Center" type="numeric" nEntries="3"> 0, 0, 0 </Vector>
</Algorithm>
<Algorithm name="track:DDTrackerAngular">
  <rParent name="tec:TECFrontPlate"/>
  <String  name="ChildName"   value="tec:TECFrontPlateFixT"/>
  <Numeric name="N"           value="8" />
  <Numeric name="StartCopyNo" value="1" />
  <Numeric name="IncrCopyNo"  value="1" />
  <Numeric name="RangeAngle"  value="360*deg"/>
  <Numeric name="StartAngle"  value="11.25*deg"/>
  <Numeric name="Radius"      value="[zero]"/>
  <Vector name="Center" type="numeric" nEntries="3"> 0, 0, 0 </Vector>
</Algorithm>

<Algorithm name="track:DDTrackerAngular">
  <rParent name="tec:TECOtherService"/>
  <String  name="ChildName"   value="tec:TECServiceRods"/>
  <Numeric name="N"           value="8" />
  <Numeric name="StartCopyNo" value="1" />
  <Numeric name="IncrCopyNo"  value="1" />
  <Numeric name="RangeAngle"  value="360*deg"/>
  <Numeric name="StartAngle"  value="11.25*deg"/>
  <Numeric name="Radius"      value="[zero]"/>
  <Vector name="Center" type="numeric" nEntries="3"> 0, 0, 0 </Vector>
</Algorithm>
<Algorithm name="track:DDTrackerAngular">
  <rParent name="tec:TECOtherService"/>
  <String  name="ChildName"   value="tec:TECRails"/>
  <Numeric name="N"           value="2" />
  <Numeric name="StartCopyNo" value="1" />
  <Numeric name="IncrCopyNo"  value="1" />
  <Numeric name="RangeAngle"  value="360*deg"/>
  <Numeric name="StartAngle"  value="90.0*deg"/>
  <Numeric name="Radius"      value="[zero]"/>
  <Vector name="Center" type="numeric" nEntries="3"> 0, 0, 0 </Vector>
</Algorithm>

<Algorithm name="track:DDTECAxialCableAlgo">
  <rParent name="tec:TECCableService"/>
  <String  name="ChildName"   value="TECAxialCable"/>
  <String  name="Material"    value="tecmaterial:TEC_ax_cable"/>
  <Numeric name="N"           value="8" />
  <Numeric name="RangeAngle"  value="360*deg"/>
  <Numeric name="ZStart"      value="[ZStart]"/>
  <Numeric name="ZEnd"        value="[ZEnd]"/>
  <Numeric name="RMin"        value="[WheelR]"/>
  <Numeric name="RMax"        value="[ServiceRin]"/>
  <Numeric name="Width"       value="[AxialCableW]"/>
  <Numeric name="ThickR"      value="[AxialCableT]"/>
  <Numeric name="ThickZ"      value="[tecpetpar:ICCThick]"/>
  <Numeric name="DZ"          value="[AxialCableDz]"/>
  <Vector name="StartAngle" type="numeric" nEntries="18"> 
   [CableFi1],          [CableFi2],          [CableFi1]+[DPhi],   
   [CableFi2]+[DPhi],   [CableFi1]+2*[DPhi], [CableFi2]+2*[DPhi],
   [CableFi1]+3*[DPhi], [CableFi2]+3*[DPhi], [CableFi1]+4*[DPhi],
   [CableFi2]+4*[DPhi], [CableFi1]+5*[DPhi], [CableFi2]+5*[DPhi],
   [CableFi1]+6*[DPhi], [CableFi2]+6*[DPhi], [CableFi1]+7*[DPhi],
   [CableFi2]+7*[DPhi], [CableFi1]+8*[DPhi], [CableFi2]+8*[DPhi]
  </Vector>
  <Vector name="ZPos" type="numeric" nEntries="18"> 
   [Wheel0Z]-[tecwheel:PetalContZ], [Wheel0Z]+[tecwheel:PetalContZ],
   [Wheel1Z]-[tecwheel:PetalContZ], [Wheel1Z]+[tecwheel:PetalContZ],
   [Wheel2Z]-[tecwheel:PetalContZ], [Wheel2Z]+[tecwheel:PetalContZ],
   [Wheel3Z]-[tecwheel:PetalContZ], [Wheel3Z]+[tecwheel:PetalContZ],
   [Wheel4Z]-[tecwheel:PetalContZ], [Wheel4Z]+[tecwheel:PetalContZ],
   [Wheel5Z]-[tecwheel:PetalContZ], [Wheel5Z]+[tecwheel:PetalContZ],
   [Wheel6Z]-[tecwheel:PetalContZ], [Wheel6Z]+[tecwheel:PetalContZ],
   [Wheel7Z]-[tecwheel:PetalContZ], [Wheel7Z]+[tecwheel:PetalContZ],
   [Wheel8Z]-[tecwheel:PetalContZ], [Wheel8Z]+[tecwheel:PetalContZ]
  </Vector>
</Algorithm>

</DDDefinition>
