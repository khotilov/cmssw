<?xml version="1.0"?>
<DDDefinition xmlns="http://www.cern.ch/cms/DDL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cern.ch/cms/DDL ../../../DetectorDescription/Schema/DDLSchema.xsd">

<ConstantsSection label="tiblayer3.xml" eval="true">
 <Constant name="RadiusUp"       value="([tiblayerpar:RadiusLo3]+
                                         [tiblayerpar:DRUpLo])"/>
 <Constant name="CylinderT"             value="0.80*cm"/>
 <Constant name="CylinderInR"           value="495.0*mm"/>
 <Constant name="MFRingInR"             value="463.5*mm"/>
 <Constant name="MFRingOutR"            value="72.5*mm+[MFRingInR]"/>
</ConstantsSection>

<Algorithm name="track:DDTIBLayerAlgo">
  <rParent name="tiblayer3:TIBLayer3"/>
  <String name="GeneralMaterial"    value="materials:Air"/>
  <Numeric name="DetectorTilt"      value="[tiblayerpar:DetTilt]"/>
  <Numeric name="LayerL"            value="[tibstringpar:StringL]"/>
  <Numeric name="LayerTolerance"    value="[tiblayerpar:Tolerance]"/>
  <Numeric name="DetectorWidth"     value="2*[tibmodpar:ModuleDx]"/>
  <Numeric name="DetectorThickness" value="2*[tibmodpar:SSModuleDy]"/>
  <Numeric name="CoolTubeWidth"     value="[tibstringpar:CoolTubeW]"/>
  <Numeric name="CoolTubeThickness" value="([tibstringpar:CoolTubeD]+[tiblayerpar:Tol])"/>
  <Numeric name="RadiusLo"          value="[tiblayerpar:RadiusLo3]"/>
  <Numeric name="PhiOffsetLo"       value="3.609*deg"/>
  <Numeric name="StringsLo"         value="52"/>
  <String name="StringDetLoName"    value="tibstring3:TIBString3Lo1"/>
  <Numeric name="ROffsetDetLo"      value="[tiblayerpar:ROffDet]"/>
  <String name="StringCabLoName"    value="tibstring3:TIBString3Lo2"/>
  <Numeric name="ROffsetCabLo"      value="[tiblayerpar:ROffCable]"/>   <!-- No more used -->
  <Numeric name="RadiusUp"          value="[tiblayer3:RadiusUp]"/>
  <Numeric name="PhiOffsetUp"       value="3.384*deg"/>
  <Numeric name="StringsUp"         value="56"/>
  <String name="StringDetUpName"    value="tibstring3:TIBString3Up1"/>
  <Numeric name="ROffsetDetUp"      value="-[tiblayerpar:ROffDet]"/>
  <String name="StringCabUpName"    value="tibstring3:TIBString3Up2"/>
  <Numeric name="ROffsetCabUp"      value="-[tiblayerpar:ROffCable]"/>   <!-- No more used -->
  <Numeric name="CylinderThickness" value="[CylinderT]"/>
  <Numeric name="CylinderInnerRadius" value="[CylinderInR]"/>
  <String name="CylinderMaterial"   value="tibmaterial:TIB_cylinder"/>
  <Numeric name="MFRingInnerRadius" value="[MFRingInR]"/>
  <Numeric name="MFRingOuterRadius" value="[MFRingOutR]"/>
  <Numeric name="MFRingThickness"   value="[tiblayerpar:MFRingT]"/>
  <Numeric name="MFRingDeltaz"      value="[tiblayerpar:MFRingDz]"/>
  <String name="MFIntRingMaterial"   value="tibmaterial:TIB_MFIntRing"/>
  <String name="MFExtRingMaterial"   value="tibmaterial:TIB_MFExtRing"/>
  <Numeric name="SupportThickness"  value="[tiblayerpar:SupportT]"/>

  <String name="CentRingMaterial"   value="tibmaterial:TIB_CentRing"/>
  <Vector name="CentRing1" type="numeric" nEntries="4">
  -0.70*mm, 8.*mm, [MFRingOutR]-[tiblayerpar:MFRingT], [MFRingOutR]
  </Vector>
  <Vector name="CentRing2" type="numeric" nEntries="4">
  12.20*mm, 8.*mm, [MFRingOutR]-[tiblayerpar:MFRingT], [MFRingOutR]
  </Vector>

  <String name="RibMaterial"        value="materials:Carbon fibre str."/>
  <Vector name="RibWidth" type="numeric" nEntries="6">
   [tiblayerpar:RibWidth1], [tiblayerpar:RibWidth2], [tiblayerpar:RibWidth2], 
   [tiblayerpar:RibWidth1], [tiblayerpar:RibWidth2], [tiblayerpar:RibWidth2] 
  </Vector>
  <Vector name="RibPhi" type="numeric" nEntries="6">
   0*deg, 53.3*deg, 126.7*deg, 180.0*deg, 233.3*deg, 306.7*deg
  </Vector>
  <Numeric name="DOHMPhiNumber"           value="8"/>
  <Vector name="DOHMList" type="numeric" nEntries="8">
    2 , 2 , 2 , 2 , 2 , 2 , 2 , 2
  </Vector>
  <Numeric name="DOHMCarrierWidth"        value="[tiblayerpar:DOHMCarrierW]"/>
  <Numeric name="DOHMCarrierThickness"    value="[tiblayerpar:DOHMCarrierT]"/>
  <Numeric name="DOHMCarrierRadialHeight" value="2.5*cm"/>
  <String name="DOHMCarrierMaterial"      value="tibmaterial:TIB_DOHM_carrier"/>
  <String name="DOHMCableMaterial"        value="tibmaterial:TIB_DOHM_cable"/>
  <String name="DOHMPRIMMaterial"         value="tibmaterial:TIB_DOHM_PRIM"/>
  <Numeric name="DOHMPRIMWidth"           value="[tiblayerpar:DOHM_PRIM_W]"/>
  <Numeric name="DOHMPRIMLength"          value="[tiblayerpar:DOHM_PRIM_L]"/>
  <Numeric name="DOHMPRIMThickness"       value="[tiblayerpar:DOHM_PRIM_T]"/>
  <String name="DOHMAUXMaterial"          value="tibmaterial:TIB_DOHM_AUX"/>
  <Numeric name="DOHMAUXWidth"            value="[tiblayerpar:DOHM_AUX_W]"/>
  <Numeric name="DOHMAUXLength"           value="[tiblayerpar:DOHM_AUX_L]"/>
  <Numeric name="DOHMAUXThickness"        value="[tiblayerpar:DOHM_AUX_T]"/>
  <String name="DOHMRotstrPlus"           value="tiblayerpar:NULL"/>
  <String name="DOHMRotstrMinus"          value="tiblayerpar:D180"/>
</Algorithm>

</DDDefinition>
