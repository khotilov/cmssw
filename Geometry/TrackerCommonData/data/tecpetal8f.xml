<?xml version="1.0"?>
<DDDefinition xmlns="http://www.cern.ch/cms/DDL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cern.ch/cms/DDL ../../DetectorDescription/Schema/DDLSchema.xsd">

<ConstantsSection label="tecpetal8f.xml" eval="true">
 <Constant name="zero"  value="0.0*fm"/>
 <Constant name="ICCZ"  value="([tecpetpar:ICBThick]-[tecpetpar:ICCThick])/2"/>
</ConstantsSection>
  
<SolidSection label="tecpetal8f.xml">
 <Tubs name="TECPetal8F"             rMin="[tecpetal3:PetalRmin]"
       rMax="[tecpetalf:PetalR1]"    dz="[tecpetpar:PetalThick]/2"
       startPhi="-[tecpetalf:PetalWidth0]/2"
       deltaPhi="[tecpetalf:PetalWidth0]"/>
</SolidSection>

<LogicalPartSection label="tecpetal8f.xml">
 <LogicalPart name="TECPetalCont8F" category="unspecified">
  <rSolid name="tecpetal3:TECPetalCont3"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="TECPetalFrame8F" category="unspecified">
  <rSolid name="tecpetal3:TECPetal3"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="TECPetal8F" category="unspecified">
  <rSolid name="tecpetal8f:TECPetal8F"/>
  <rMaterial name="tecmaterial:TEC_petal"/>
 </LogicalPart>
  <LogicalPart name="TECPetal9F" category="unspecified">
  <rSolid name="tecpetalf:TECPetal1F"/>
  <rMaterial name="tecmaterial:TEC_petal"/>
 </LogicalPart>
  <LogicalPart name="TECPetalbF" category="unspecified">
  <rSolid name="tecpetalf:TECPetal2F"/>
  <rMaterial name="tecmaterial:TEC_petal"/>
 </LogicalPart>
 <LogicalPart name="TECICBCont8F1" category="unspecified">
  <rSolid name="tecpetal3:TECICBCont3"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="TECICBCont8F2" category="unspecified">
  <rSolid name="tecpetal3:TECICBCont3"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
</LogicalPartSection>

<PosPartSection label="tecpetal8f.xml">
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalCont8F"/>
   <rChild name="tecring3f:TECRing3F"/>
  <Translation x="[zero]" y="[zero]" z="[tecpetpar:ModuleFrameZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalCont8F"/>
   <rChild name="tecring4f:TECRing4F"/>
  <rRotation name="tecpetpar:180X"/>
  <Translation x="[zero]" y="[zero]" z="-[tecpetpar:ModuleFrameZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalCont8F"/>
   <rChild name="tecring5f:TECRing5F"/>
  <Translation x="[zero]" y="[zero]" z="[tecpetpar:ModuleFrameZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalCont8F"/>
   <rChild name="tecring6f:TECRing6F"/>
  <rRotation name="tecpetpar:180X"/>
  <Translation x="[zero]" y="[zero]" z="-[tecpetpar:ModuleFrameZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalCont8F"/>
   <rChild name="tecpetal8f:TECPetalFrame8F"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalFrame8F"/>
   <rChild name="tecpetal8f:TECPetal8F"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalFrame8F"/>
   <rChild name="tecpetal8f:TECPetal9F"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalFrame8F"/>
   <rChild name="tecpetal8f:TECPetalbF"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalCont8F"/>
   <rChild name="tecpetal8f:TECICBCont8F1"/>
  <Translation x="[zero]" y="[zero]" z="-[tecpetpar:ICBZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalCont8F"/>
   <rChild name="tecpetal8f:TECICBCont8F2"/>
  <Translation x="[zero]" y="[zero]" z="[tecpetpar:ICBZ]"/>
 </PosPart>

 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECICBCont8F1"/>
   <rChild name="tecring5f:TECICC5F1"/>
  <Translation x="[zero]" y="[zero]" z="[ICCZ]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECICBCont8F2"/>
   <rChild name="tecring4f:TECICC4F1"/>
  <Translation x="[zero]" y="[zero]" z="-[ICCZ]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECICBCont8F2"/>
   <rChild name="tecring4f:TECICC4F2"/>
  <Translation x="[zero]" y="[zero]" z="-[ICCZ]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECICBCont8F2"/>
   <rChild name="tecring6f:TECICC6F1"/>
  <Translation x="[zero]" y="[zero]" z="-[ICCZ]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECICBCont8F2"/>
   <rChild name="tecring6f:TECICC6F2"/>
  <Translation x="[zero]" y="[zero]" z="-[ICCZ]" />
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalCont8F"/>
   <rChild name="tecring3f:TECRing3BridgeF"/>
  <Translation x="[zero]" y="[zero]" z="[tecpetpar:BridgeZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalCont8F"/>
   <rChild name="tecring4f:TECRing4BridgeF"/>
  <Translation x="[zero]" y="[zero]" z="-[tecpetpar:BridgeZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalCont8F"/>
   <rChild name="tecring5f:TECRing5BridgeF"/>
  <Translation x="[zero]" y="[zero]" z="[tecpetpar:BridgeZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tecpetal8f:TECPetalCont8F"/>
   <rChild name="tecring6f:TECRing6BridgeF"/>
  <Translation x="[zero]" y="[zero]" z="-[tecpetpar:BridgeZ]"/>
 </PosPart>
</PosPartSection>

<Algorithm name="track:DDTECCoolAlgo">
  <rParent name="tecpetal8f:TECPetalFrame8F"/>
  <Numeric name="StartCopyNo"    value="23"/>
  <Vector name="PetalName"      type="string"  nEntries="3">
   tecpetal8f:TECPetal8F,   tecpetal8f:TECPetal9F,
   tecpetal8f:TECPetalbF</Vector>
  <Vector name="PetalR"         type="numeric" nEntries="3">
   [tecpetalf:PetalR1],     [tecpetalf:PetalR2],     [tecpetpar:PetalRmax]
  </Vector>
  <Vector name="PetalWidth"     type="numeric" nEntries="3">
   [tecpetalf:PetalWidth0], [tecpetalf:PetalWidth1], [tecpetalf:PetalWidth2]
  </Vector>
  <Vector name="CoolName"       type="string"  nEntries="4">
   tecpetpar:TECCool1,      tecpetpar:TECCool2,      tecpetpar:TECCool3, 
   tecpetpar:TECCool4</Vector>
  <Vector name="CoolR"          type="numeric" nEntries="4">
   [tecpetpar:CoolR1],      [tecpetpar:CoolR2],      [tecpetpar:CoolR3],
   [tecpetpar:CoolR4]</Vector>
  <Vector name="CoolInsert"     type="numeric" nEntries="4">
   [tecring3f:CoolIns0],    [tecring3f:CoolIns1],    [tecring3f:CoolIns2],
   [tecring3f:CoolIns3]</Vector>
  <Numeric name="StartAngle"     value="[tecring3f:Phi0]"/>
  <Numeric name="IncrAngle"      value="[tecring3f:DPhi]"/>
  <Numeric name="Rmin"           value="[tecring3:Rmin]"/>
  <Numeric name="FullHeight"     value="[tecmodule3:FullHeight]"/>
  <Numeric name="DlTop"          value="[tecmodule3:DlTop]"/>
  <Numeric name="DlBottom"       value="[tecmodule3:DlBottom]"/>
  <Numeric name="DlHybrid"       value="[tecmodule3:DlHybrid]"/>
  <Numeric name="TopFrameHeight" value="[tecmodpar:TopFrameHeight]"/>
  <Numeric name="FrameWidth"     value="[tecmodpar:FrameWidth]"/>
  <Numeric name="FrameOver"      value="[tecmodpar:FrameOver]"/>
  <Numeric name="HybridHeight"   value="[tecmodpar:HybridHeight]"/>
  <Numeric name="HybridWidth"    value="[tecmodpar:HybridWidth]"/>
</Algorithm>
<Algorithm name="track:DDTECCoolAlgo">
  <rParent name="tecpetal8f:TECPetalFrame8F"/>
  <Numeric name="StartCopyNo"    value="33"/>
  <Vector name="PetalName"      type="string"  nEntries="3">
   tecpetal8f:TECPetal8F,   tecpetal8f:TECPetal9F,
   tecpetal8f:TECPetalbF</Vector>
  <Vector name="PetalR"         type="numeric" nEntries="3">
   [tecpetalf:PetalR1],     [tecpetalf:PetalR2],     [tecpetpar:PetalRmax]
  </Vector>
  <Vector name="PetalWidth"     type="numeric" nEntries="3">
   [tecpetalf:PetalWidth0], [tecpetalf:PetalWidth1], [tecpetalf:PetalWidth2]
  </Vector>
  <Vector name="CoolName"       type="string"  nEntries="4">
   tecpetpar:TECCool1,      tecpetpar:TECCool2,      tecpetpar:TECCool3, 
   tecpetpar:TECCool4</Vector>
  <Vector name="CoolR"          type="numeric" nEntries="4">
   [tecpetpar:CoolR1],      [tecpetpar:CoolR2],      [tecpetpar:CoolR3],
   [tecpetpar:CoolR4]</Vector>
  <Vector name="CoolInsert"     type="numeric" nEntries="2">
   [tecring4f:CoolIns0],    [tecring4f:CoolIns1]</Vector>
  <Numeric name="StartAngle"     value="[tecring4f:Phi0]"/>
  <Numeric name="IncrAngle"      value="[tecring4f:DPhi]"/>
  <Numeric name="Rmin"           value="[tecring4:Rmin]"/>
  <Numeric name="FullHeight"     value="[tecmodule4:FullHeight]"/>
  <Numeric name="DlTop"          value="[tecmodule4:DlTop]"/>
  <Numeric name="DlBottom"       value="[tecmodule4:DlBottom]"/>
  <Numeric name="DlHybrid"       value="[tecmodule4:DlHybrid]"/>
  <Numeric name="TopFrameHeight" value="[tecmodpar:TopFrameHeight]"/>
  <Numeric name="FrameWidth"     value="[tecmodpar:FrameWidth]"/>
  <Numeric name="FrameOver"      value="[tecmodpar:FrameOver]"/>
  <Numeric name="HybridHeight"   value="[tecmodpar:HybridHeight]"/>
  <Numeric name="HybridWidth"    value="[tecmodpar:HybridWidth]"/>
</Algorithm>
<Algorithm name="track:DDTECCoolAlgo">
  <rParent name="tecpetal8f:TECPetalFrame8F"/>
  <Numeric name="StartCopyNo"    value="40"/>
  <Vector name="PetalName"      type="string"  nEntries="3">
   tecpetal8f:TECPetal8F,   tecpetal8f:TECPetal9F,
   tecpetal8f:TECPetalbF</Vector>
  <Vector name="PetalR"         type="numeric" nEntries="3">
   [tecpetalf:PetalR1],     [tecpetalf:PetalR2],     [tecpetpar:PetalRmax]
  </Vector>
  <Vector name="PetalWidth"     type="numeric" nEntries="3">
   [tecpetalf:PetalWidth0], [tecpetalf:PetalWidth1], [tecpetalf:PetalWidth2]
  </Vector>
  <Vector name="CoolName"       type="string"  nEntries="4">
   tecpetpar:TECCool1,      tecpetpar:TECCool2,      tecpetpar:TECCool3, 
   tecpetpar:TECCool4</Vector>
  <Vector name="CoolR"          type="numeric" nEntries="4">
   [tecpetpar:CoolR1],      [tecpetpar:CoolR2],      [tecpetpar:CoolR3],
   [tecpetpar:CoolR4]</Vector>
  <Vector name="CoolInsert"     type="numeric" nEntries="4">
   [tecring5f:CoolIns0],    [tecring5f:CoolIns1],    [tecring5f:CoolIns2],
   [tecring5f:CoolIns3]</Vector>
  <Numeric name="StartAngle"     value="[tecring5f:Phi0]"/>
  <Numeric name="IncrAngle"      value="[tecring5f:DPhi]"/>
  <Numeric name="Rmin"           value="[tecring5:Rmin]"/>
  <Numeric name="FullHeight"     value="[tecmodule5:FullHeight]"/>
  <Numeric name="DlTop"          value="[tecmodule5:DlTop]"/>
  <Numeric name="DlBottom"       value="[tecmodule5:DlBottom]"/>
  <Numeric name="DlHybrid"       value="[tecmodule5:DlHybrid]"/>
  <Numeric name="TopFrameHeight" value="[tecmodpar:TopFrameHeight]"/>
  <Numeric name="FrameWidth"     value="[tecmodpar:FrameWidth]"/>
  <Numeric name="FrameOver"      value="[tecmodpar:FrameOver]"/>
  <Numeric name="HybridHeight"   value="[tecmodpar:HybridHeight]"/>
  <Numeric name="HybridWidth"    value="[tecmodpar:HybridWidth]"/>
</Algorithm>
<Algorithm name="track:DDTECCoolAlgo">
  <rParent name="tecpetal8f:TECPetalFrame8F"/>
  <Numeric name="StartCopyNo"    value="53"/>
  <Vector name="PetalName"      type="string"  nEntries="3">
   tecpetal8f:TECPetal8F,   tecpetal8f:TECPetal9F,
   tecpetal8f:TECPetalbF</Vector>
  <Vector name="PetalR"         type="numeric" nEntries="3">
   [tecpetalf:PetalR1],     [tecpetalf:PetalR2],     [tecpetpar:PetalRmax]
  </Vector>
  <Vector name="PetalWidth"     type="numeric" nEntries="3">
   [tecpetalf:PetalWidth0], [tecpetalf:PetalWidth1], [tecpetalf:PetalWidth2]
  </Vector>
  <Vector name="CoolName"       type="string"  nEntries="4">
   tecpetpar:TECCool1,      tecpetpar:TECCool2,      tecpetpar:TECCool3, 
   tecpetpar:TECCool4</Vector>
  <Vector name="CoolR"          type="numeric" nEntries="4">
   [tecpetpar:CoolR1],      [tecpetpar:CoolR2],      [tecpetpar:CoolR3],
   [tecpetpar:CoolR4]</Vector>
  <Vector name="CoolInsert"     type="numeric" nEntries="5">
   [tecring6f:CoolIns0],    [tecring6f:CoolIns1],    [tecring6f:CoolIns2],
   [tecring6f:CoolIns3],    [tecring6f:CoolIns4]</Vector>
  <Numeric name="StartAngle"     value="[tecring6f:Phi0]"/>
  <Numeric name="IncrAngle"      value="[tecring6f:DPhi]"/>
  <Numeric name="Rmin"           value="[tecring6:Rmin]"/>
  <Numeric name="FullHeight"     value="[tecmodule6:FullHeight]"/>
  <Numeric name="DlTop"          value="[tecmodule6:DlTop]"/>
  <Numeric name="DlBottom"       value="[tecmodule6:DlBottom]"/>
  <Numeric name="DlHybrid"       value="[tecmodule6:DlHybrid]"/>
  <Numeric name="TopFrameHeight" value="[tecmodpar:TopFrameHeight]"/>
  <Numeric name="FrameWidth"     value="[tecmodpar:FrameWidth]"/>
  <Numeric name="FrameOver"      value="[tecmodpar:FrameOver]"/>
  <Numeric name="HybridHeight"   value="[tecmodpar:HybridHeight]"/>
  <Numeric name="HybridWidth"    value="[tecmodpar:HybridWidth]"/>
</Algorithm>

<Algorithm name="track:DDTECOptoHybAlgo">
  <rParent name="tecpetal8f:TECICBCont8F1"/>
  <String name="ChildName"     value="tecpetpar:TECOptoHybrid"/>
  <Numeric name="Rmin"         value="[tecring5f:RminICC]"/>
  <Numeric name="Rmax"         value="[tecring5f:RmaxICC]"/>
  <Numeric name="Zpos"         value="-[tecpetpar:HybridZ]"/>
  <Numeric name="StartCopyNo"  value="4"/>
  <Vector name="Angles"        type="numeric" nEntries="9">
   [tecring5f:AngleHyb0],   [tecring5f:AngleHyb1],   [tecring5f:AngleHyb2],
   [tecring5f:AngleHyb3],   [tecring5f:AngleHyb4],   [tecring5f:AngleHyb5],
   [tecring5f:AngleHyb6],   [tecring5f:AngleHyb7],   [tecring5f:AngleHyb8]
  </Vector>
</Algorithm>

<Algorithm name="track:DDTECOptoHybAlgo">
  <rParent name="tecpetal8f:TECICBCont8F2"/>
  <String name="ChildName"     value="tecpetpar:TECOptoHybrid"/>
  <Numeric name="Rmin"         value="[tecring4f:RminICC]"/>
  <Numeric name="Rmax"         value="[tecring4f:RmaxICC]"/>
  <Numeric name="Zpos"         value="[tecpetpar:HybridZ]"/>
  <Numeric name="StartCopyNo"  value="1"/>
  <Vector name="Angles"        type="numeric" nEntries="4">
   [tecring4f:AngleHyb0],   [tecring4f:AngleHyb1],   [tecring4f:AngleHyb2],
   [tecring4f:AngleHyb3]
  </Vector>
</Algorithm>
<Algorithm name="track:DDTECOptoHybAlgo">
  <rParent name="tecpetal8f:TECICBCont8F2"/>
  <String name="ChildName"     value="tecpetpar:TECOptoHybrid"/>
  <Numeric name="Rmin"         value="[tecring6f:RminICC]"/>
  <Numeric name="Rmax"         value="[tecring6f:RmaxICC]"/>
  <Numeric name="Zpos"         value="[tecpetpar:HybridZ]"/>
  <Numeric name="StartCopyNo"  value="5"/>
  <Vector name="Angles"        type="numeric" nEntries="4">
   [tecring6f:AngleHyb0],   [tecring6f:AngleHyb1],   [tecring6f:AngleHyb2],
   [tecring6f:AngleHyb3]
  </Vector>
</Algorithm>

</DDDefinition>
