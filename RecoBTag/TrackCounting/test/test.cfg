#! /bin/env cmsRun

process test = {
 
    # input file
    source = PoolSource {
        untracked vstring fileNames = { "file:/tmp/arizzi/bjets_reco.root" }
        untracked int32 maxEvents = -1
    }

    module out = PoolOutputModule {
        untracked string fileName = 'file:/tmp/arizzi/bjets_btag.root'
    }


    # Message Logger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    replace MessageLogger.cout.threshold = "INFO"
       # Magnetic Field
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"


    # Test tracks to jets association
    module associator = JetTracksAssociator {
      string tracks = "TrackProducer"
      string jets   = "CaloJetIcone5"
      double coneSize = 0.5
    }
    module trackCounting = TrackCounting {
      string jetTracks = "associator" 
    }

    # module execution
    path p = { associator, trackCounting }
     endpath outpath = { out }
}
