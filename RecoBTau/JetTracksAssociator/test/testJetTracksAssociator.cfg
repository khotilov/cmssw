#! /bin/env cmsRun

process jettag = {

    # input file
    source = PoolSource {
        untracked vstring fileNames = { 
          "/store/unmerged/RelVal/2006/10/1/RelVal102BJets50-120/GEN-SIM-DIGI-RECO/0006/E4D2DBBA-F250-DB11-98C6-000E0C3F0935.root",
          "/store/unmerged/RelVal/2006/10/1/RelVal102BJets50-120/GEN-SIM-DIGI-RECO/0006/F8F451B4-F250-DB11-8868-00304858424D.root",
          "/store/unmerged/RelVal/2006/10/1/RelVal102BJets50-120/GEN-SIM-DIGI-RECO/0006/24E1C40F-F350-DB11-8A54-000E0C3F0C99.root",
          "/store/unmerged/RelVal/2006/10/1/RelVal102BJets50-120/GEN-SIM-DIGI-RECO/0006/2AD4CF7E-F350-DB11-9C99-00304856282E.root",
          "/store/unmerged/RelVal/2006/10/1/RelVal102BJets50-120/GEN-SIM-DIGI-RECO/0006/1079FBFA-F250-DB11-9D3C-00304856182A.root",
          "/store/unmerged/RelVal/2006/10/1/RelVal102BJets50-120/GEN-SIM-DIGI-RECO/0006/B239A5F3-F250-DB11-863D-000E0C3F0EE7.root"
        }
        untracked int32 maxEvents = -1
    }

    #output file
    module out = PoolOutputModule {
        untracked string fileName = 'file:jettag.root'
        untracked vstring outputCommands = {
            # drop all objects...
            "drop *",
            # ...but the association map
            "keep *_associator_*_*",
            "keep *_ctfWithMaterialTracks_*_*",
            "keep *_globalMuons_*_*",
            "keep *_iterativeCone5CaloJets_*_*"
        }
    }

    # Message Logger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    replace MessageLogger.cout.threshold = "INFO"

    # Test tracks to jets association
    include "RecoBTau/JetTracksAssociator/data/jetTracksAssociator.cfi"

    # module execution
    path p = { associator }
    endpath output = { out }

}
