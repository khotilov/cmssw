#! /bin/env cmsRun

process test = {

    # input file
    source = PoolSource {
        untracked vstring fileNames = { "bjets_reco.root" }
        untracked int32 maxEvents = -1
    }

    #output file
    module out = PoolOutputModule {
        untracked string fileName = 'file:btag.root'
        untracked vstring outputCommands = {
            # drop all simulation and digi information from output
            "keep *",
            # drop reco objects
            "drop *_*_*_reco",
            # keep tracks and jets
            "keep *_TrackProducer_*_reco",
            "keep *_CaloJetIcone5_*_reco"
        }
    }

    # Message Logger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    replace MessageLogger.cout.threshold = "INFO"

    # Test tracks to jets association
    module associator = JetTracksAssociator {
      string tracks = "TrackProducer"
      string jets   = "CaloJetIcone5"
      double coneSize = 0.5
    }

    # module execution
    path p = { associator }
    endpath output = { out }

}
