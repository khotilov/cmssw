process TEST = {

include "FWCore/MessageService/data/MessageLogger.cfi"

#++++++++++++
#Geometry
#++++++++++++

#geom_mtcc	
include "Geometry/CMSCommonData/data/cmsMTCCGeometryXML.cfi"

#geom_ideal	
#include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"

#+++++++++++++++++++++++++++++++

es_module = TrackerGeometricDetESModule {}
es_module = TrackerDigiGeometryESModule {}


es_source = PoolDBESSource { 
	                  VPSet toGet = {{ string record = "SiStripPedestalsRcd" string tag = "mytest_p" }, { string record = "SiStripNoisesRcd" string tag = "mytest_n" }}

#	                  VPSet toGet = {{ string record = "SiStripPedestalsRcd" string tag = "mytest_p" }, { string record = "SiStripNoisesRcd" string tag = "mytest_n" }}


              bool loadAll = true
              string connect = "sqlite_file:insert_DBfile"
	      untracked string catalog = "file:insert_DBcatalog" 
              string timetype = "runnumber" 
              untracked uint32 messagelevel = 3
	      untracked bool loadBlobStreamer = true
            }


source = EmptySource {
			untracked int32 maxEvents = 1
			untracked uint32 firstRun = insert_runNb 
			untracked uint32 numberEventsInRun = 1
	}


module Display =  SiStripCondObjDisplay {
        untracked int32 VerbosityLevel = 1

           bool UseCalibDataFromDB = true

	string fileName = "insert_output_filename"


    PSet TH1PedestalsProfile = {
			 	int32 Nbinx = 768	
				double xmin =  -0.5
				double xmax = 767.5
				}	

    PSet TH1NoisesProfile = {
			 	int32 Nbinx = 768	
				double xmin = -0.5
				double xmax = 767.5  
				}	

    PSet TH1BadStripNoiseProfile = {
			 	int32 Nbinx = 768	
				double xmin = -0.5
				double xmax = 767.5.  
				}	

           PSet TH1Noises = {
			 	int32 Nbinx =  80	
				double xmin =   0.
				double xmax =  10.
				}	
}

module AsciiOutput = AsciiOutputModule {}

path p = { Display }
endpath e = { AsciiOutput } 
}

