process PEDESTALS = {

service = MessageLogger {
	untracked vstring destinations = { "prova_write.log" }
	untracked PSet prova_write.log = { untracked string threshold = "INFO" }
#		#PSet default = { int32 limit = -1 bool noLineBreaks = false } 
}

        source = EmptySource {
			untracked int32 maxEvents = 1
			untracked uint32 firstRun = 1 
			untracked uint32 numberEventsInRun = 1
	}

#source = TBRUInputSource
#{
#	untracked vstring fileNames = {  "file:/localscratch/a/atricomi/mtcc/runs/RU0020059_000.root","file:/localscratch/a/atricomi/mtcc/runs/RU0020059_001.root"}
#	untracked int32 maxEvents =10 //@@ all events
#	#untracked int32 nFeds = 1 # not strictly necessary
#}


#service = Timing { }
include "Geometry/CMSCommonData/data/cmsMTCCGeometryXML.cfi"

        es_module = TrackerGeometricDetESModule {}
        es_module = TrackerDigiGeometryESModule {}

#read cabling from db
  include "OnlineDB/SiStripESSources/data/BuildFedCablingUsingConfigDb.cfi"
          replace BuildFedCablingUsingConfigDb.UsingDb   = true
          replace BuildFedCablingUsingConfigDb.User      = "cms_mtcc_sitracker"
          replace BuildFedCablingUsingConfigDb.Passwd    = "cms_mtcc"
          replace BuildFedCablingUsingConfigDb.Path      = "omds"
          replace BuildFedCablingUsingConfigDb.Partition = "MTCC_TEST4"

#	  replace BuildFedCablingUsingConfigDb.User      = "cms_sitracker"
#	  replace BuildFedCablingUsingConfigDb.Passwd    = "sitracker"
#	  replace BuildFedCablingUsingConfigDb.Path      = "omds"
#	  replace BuildFedCablingUsingConfigDb.Partition = "TIB"

	
	service = PoolDBOutputService{
	  string connect = "sqlite_file:prova.db"    
	  untracked string catalog = "file:prova.xml"
	  #string connect = "sqlite_file:insert_dbfile"    
	  #untracked string catalog = "file:insert_dbcatalog"
          string timetype = "runnumber"    
##	  untracked bool loadBlobStreamer = true
	  
      	VPSet toPut={ { untracked string containerName = "SiStripPedestals" string tag ="mytest_p"} , { untracked string containerName = "SiStripNoises" string tag ="mytest_n"} , { untracked string containerName = "SiStripFedCabling" string tag ="mytest_c"} }      

#        VPSet toPut={ { untracked string containerName = "SiStripNoises" string tag ="mytest_n"} , { untracked string containerName = "SiStripFedCabling" string tag ="mytest_c"} }      
          #VPSet toPut={ { untracked string containerName = "SiStripFedCabling" string tag ="mytest_c"} }
	}


module prova= SiStripCondObjBuilder {
	 		untracked string userEnv="me"
	        	untracked string passwdEnv="me"
# 			untracked bool   printDebug = true
 			untracked bool   printDebug = true
}

	path p = { prova }

        module print = AsciiOutputModule {}
        endpath ep = { print }
}

