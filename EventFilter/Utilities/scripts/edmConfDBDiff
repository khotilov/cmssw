#!/usr/bin/perl

################################################################################
#
# edmConfDBDiff
# -------------
#
#             01/17/2008 Philipp Schieferdecker <philipp.schieferdecker@cern.ch>
################################################################################

my $usage =
    "USAGE:\nedmConfDBDiff\n" .
    "\t--configs <cfg1,cfg2>       (compare configuration cfg1 and cfg2)\n" .
    "\n";

die $usage if @ARGV!=2;

my $log_file = "/dev/null";
my $configs  = "";

while (@ARGV) {
  my $arg = shift @ARGV;
  
  if ($arg eq "--configs") {
      $configs = shift @ARGV;
  }
  else {
      die "ERROR: invalid option $arg\n";
  }
}

die "--configs <cfg1,cfg2> *must* be specified!" if ($configs eq "");

my $url =
    "http://cms-project-confdb-hltdev.web.cern.ch/" .
    "cms-project-confdb-hltdev/diff.jsp?configs=$configs";


system("wget \"$url\" -O- -o $log_file");

exit 0;
