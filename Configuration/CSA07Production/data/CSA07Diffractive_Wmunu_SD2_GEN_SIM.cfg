process Sim  = {


      untracked PSet maxEvents = {untracked int32 input = 1000}
      
      untracked PSet configurationMetadata = 
      {
        untracked string version = "$Revision: $"
        untracked string name = "$Source: $"
        untracked string annotation = "Diffractive W to munu for CSA07"
      }

      include "FWCore/MessageLogger/data/MessageLogger.cfi"
      replace MessageLogger.cout.threshold = "ERROR"
      replace MessageLogger.cerr.default.limit = 10

      service = RandomNumberGeneratorService
      {
            untracked uint32 sourceSeed = 1234567
            PSet moduleSeeds =
            {
             untracked uint32 VtxSmeared = 98765432
             untracked uint32 g4SimHits  = 11
             untracked uint32 mix	 = 12345
           }
      }
   
      service = TimerService {
             untracked bool useCPUtime = true // set to false for wall-clock-time  
      }

      # Pomwig DataCard
      source = PomwigSource
      {
            untracked int32 maxErrors = 200
            untracked int32 herwigVerbosity = 1
            untracked bool herwigHepMCVerbosity = false
            untracked int32 herwigLhapdfVerbosity = 0
            untracked int32 maxEventsToPrint = 2
            untracked bool printCards = true
            untracked string lhapdfSetPath = "/afs/cern.ch/cms/sw/slc4_ia32_gcc345/external/lhapdf/5.2.3-cms/PDFsets"

            int32 diffTopology = 2
            int32 h1fit = 2

            PSet HerwigParameters = {
              vstring parameterSets = {
                  "SD1InclusiveWlep"
              }

              vstring SD1InclusiveWlep = {
                'NSTRU      = 14         ! H1 Pomeron Fit B',
                'Q2WWMN     = 1E-6       ! Minimum |t|',
                'Q2WWMX     = 4d0        ! Maximum |t|',
                'YWWMIN     = 1E-6       ! Minimum xi',
                'YWWMAX     = 0.2d0      ! Maximum xi',
                'IPROC      = 11452      ! Process PomP -> W -> munu',
                'MODPDF(1)  = 10150      ! Set MODPDF CTEQ61',
                'MODPDF(2)  = -1         ! Set MODPDF'
              }
            }
      }

      module filter = PomwigFilter {}

      module  mugenfilter  = MCSingleParticleFilter {
            untracked vint32 ParticleID = {-13,13}
            untracked vint32 Status = {1,1}
            untracked vdouble MinPt = {0.,0.}
            untracked vdouble MinEta = {-2.5,-2.5}
            untracked vdouble MaxEta = {2.5,2.5}
      }

      include "Configuration/StandardSequences/data/Simulation.cff"
      include "Configuration/StandardSequences/data/VtxSmearedGauss.cff"
      include "Configuration/StandardSequences/data/MixingNoPileUp.cff"

      path p1 = {filter,mugenfilter,psim}
      #path p1 = {filter,mugenfilter}	

      # Event output
      include "Configuration/EventContent/data/EventContent.cff"

      # output module
      module GEN-SIM = PoolOutputModule
      {
         using FEVTSIMEventContent
         untracked string fileName = "/tmp/antoniov/diffWmunu.root"
         untracked PSet dataset ={              
	    untracked string dataTier = "GEN-SIM"
         }
         untracked PSet SelectEvents = {
           vstring SelectEvents = {"p1"}
         }
      }
       
      endpath outpath = { GEN-SIM }

      schedule = { p1, outpath }
  
}
