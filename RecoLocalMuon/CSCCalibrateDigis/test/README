Problems/Questions:  email:  dfortin@mail.cern.ch

Because of several problems with ROOT files, scramv1, oracle, etc, running the
calibration isn't trivial at the moment, to say the least.  Here are the 
steps to follow to run the calibration from your ~username/scratch0/ space. 

Warning:  You need to follow them in the exact order outlined below, 
otherwise don't blame me if you spend hours, days, or weeks trying to make this work :-)

1) First, unpack the data using the CSCUnpacker as follows:
   cd ~/scratch0
   scramv1 project CMSSW CMSSW_0_8_0_pre3
   cd CMSSW_0_8_0_pre3/src/
   cmscvsroot CMSSW
   cvs login
   <password>
   cvs co -r CMSSW_0_8_0_pre3 EventFilter/CSCRawToDigi
   cd EventFilter/CSCRawToDigi
   cp ~dfortin/public/CSCCalibrateDigis/test/unpack_raw_to_digi.cfg .
   eval `scramv1 runtime -csh`
   cmsRun -p unpack_raw_to_digi.cfg

Note:  You may want to modify unpack_raw_to_digi.cfg first, so you run on a different file
       and use more if not all events (use maxEvents = -1).
       If you do so, make sure you ouput the file elsewhere than your home directory (file > 1GB).


2) The calibration package was successfully tested in CMSSW_2006-07-28, therefore:

   a) Checkout the code from CVS:
      cd ~/scratch0
      scramv1 project CMSSW CMSSW_2006-07-28
      cd CMSSW_2006-07-28/src/
      cvs co RecoLocalMuon/CSCCalibrateDigis
      cd RecoLocalMuon/CSCCalibrateDigis
      eval `scramv1 runtime -csh`
      scramv1 b

   b) Convert unpacked mtcc/slice test root file:
      cd test
<OPTIONAL>   cp ~/scratch0/CMSSW_0_8_0_pre3/EventFilter/CSCRawToDigi/test/cscdigi.root .  
      eval `scramv1 runtime -csh`
      cmsRun -p convert_old_root_to_new.cfg

Note:  Again, if you are running on many events, you may want to edit 
       "convert_old_root_to_new.cfg" so the input file is read in properly and the
       output file is dumped elsewhere than in your scratch area...

   c) Now you are finally ready to run the calibration, but some parameters need
      to be set to have access to the database:
      eval `scramv1 runtime -csh`
      scramv1 -i oracle
      <RETURN>
      <RETURN>
      <RETURN>
      /afs/cern.ch/project/oracle/admin 
      <RETURN>
      <RETURN>
      <RETURN>
      source ~dfortin/public/input_for_csc_oracle/.setoracle
 
  
   d) Finally, you are ready to run the calibration ! 

      eval `scramv1 runtime -csh`
      cmsRun -p CSCCalibDigis.cfg

Note: Once again, you may need to change the location of the input/output file.
      So you may want to edit CSCCalibDigis.cfg.

