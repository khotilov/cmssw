
process testing = {

# This is the config file controlling the producer
  include "RecoLocalMuon/CSCRecHitB/data/cscRecHitB.cfi"

#######################################################################################
#######################################################################################
#### If running on data
  source = PoolSource {
     untracked vstring fileNames =  {'file:cscrechits_standalone.root'}
     untracked int32 maxEvents = -1
  }
#### Unpacker --> transform raw data to CSCDigis
  module cscunpacker = CSCDCCUnpacker {
     untracked bool Debug = false
     untracked bool PrintEventNumber = false
     FileInPath theMappingFile = "RecoLocalMuon/CSCRecHitB/data/csc_slice_test_map.txt"
     untracked int32 Verbosity = 10
     untracked bool UseExaminer = true	
     untracked uint32 ErrorMask = 0xDFCFEFFF 
     untracked uint32 ExaminerMask = 0x7FB7BF6
  }
#### Variables read from database for calibration purposes
   es_source = PoolDBESSource {
     VPSet toGet = {
                    { string record = "CSCGainsRcd"
                      string tag = "CSCGains_from_online" },
                    { string record = "CSCNoiseMatrixRcd"
                      string tag = "CSCNoiseMatrix_from_online" },
                    { string record = "CSCcrosstalkRcd"
                      string tag = "CSCcrosstalk_from_online"}
                   }
     bool loadAll = true

#### To run with test database
     string connect = "oracle://devdb10/CMS_COND_CSC"
     untracked string catalog = "relationalcatalog_oracle://devdb10/CMS_COND_GENERAL"
     string connect = "oracle://orcon/CMS_COND_CSC"
#     untracked string catalog = "relationalcatalog_oracle://orcon/CMS_COND_GENERAL"
     untracked uint32 authenticationMethod = 1
####     string timetype = "runnumber"
     string timetype = "timestamp"
     untracked uint32 messagelevel = 0
   }
#
#######################################################################################
#######################################################################################
# This is to run with MC
#   source = PoolSource {
#      untracked vstring fileNames = {"file:cscdigis.root"}
#      untracked int32 maxEvents = -1
#      untracked uint32 debugVebosity = 10
#      untracked bool debugFlag     = false
#   }
#######################################################################################
# Always keep the following:

   include "Geometry/MuonCommonData/data/muonEndcapIdealGeometryXML.cfi"
   include "Geometry/CSCGeometry/data/cscGeometry.cfi"
   replace CSCGeometryESModule.useCentreTIOffsets = true

   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   service = MessageLogger {
//        untracked vstring debugModules = {  "CSC"  } 
   }
   
   module out = PoolOutputModule {
       	untracked string fileName ="cscrechits_data.root"
   }

#   path p = { cscunpacker, csc2DRecHits }
   path p = { csc2DRecHits }
   endpath ep = { out }
}
